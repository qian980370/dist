(function(){"use strict";var e={7434:function(e,l,t){var o=t(9963),a=t(6252);function s(e,l,t,o,s,i){const r=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(r)])}var i=t(3577);const r={style:{height:"50px","line-height":"50px","border-bottom":"1px solid #ccc",display:"flex"}},n=(0,a._)("div",{style:{width:"200px","padding-left":"25px","font-weight":"bold"}},"Back-end Control",-1),d=(0,a._)("div",{style:{flex:"1"}},null,-1),m={style:{width:"100px"}},u={class:"el-dropdown-link"},c=(0,a._)("br",null,null,-1),p=(0,a.Uk)("Personal Information"),h=(0,a.Uk)("logout");function g(e,l,t,o,s,g){const f=(0,a.up)("ArrowDown"),b=(0,a.up)("el-icon"),_=(0,a.up)("el-dropdown-item"),y=(0,a.up)("el-dropdown-menu"),w=(0,a.up)("el-dropdown");return(0,a.wg)(),(0,a.iD)("div",r,[n,d,(0,a._)("div",m,[(0,a.Wm)(w,null,{dropdown:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(_,null,{default:(0,a.w5)((()=>[p])),_:1}),(0,a.Wm)(_,{onClick:g.logout},{default:(0,a.w5)((()=>[h])),_:1},8,["onClick"])])),_:1})])),default:(0,a.w5)((()=>[(0,a._)("span",u,[c,(0,a.Uk)((0,i.zw)(this.username),1),(0,a.Wm)(b,{class:"el-icon--right"},{default:(0,a.w5)((()=>[(0,a.Wm)(f)])),_:1})])])),_:1})])])}var f=t(8647),b={name:"myHeader",components:{ArrowDown:f.Z},methods:{logout(){localStorage.removeItem("user"),localStorage.removeItem("profile"),this.$message({type:"success",message:"Successfully logout"}),this.$router.push("/login")}},data(){return{user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,username:""}},created(){this.username=this.user.username}},_=t(3744);const y=(0,_.Z)(b,[["render",g]]);var w=y;const v=(0,a._)("span",null,"Database",-1),W=(0,a.Uk)("User"),k=(0,a.Uk)("Profile"),C=(0,a.Uk)("Hobby"),S=(0,a.Uk)("File"),V=(0,a._)("span",null,"Fast Code",-1),U=(0,a._)("span",null,"DEVELOPING",-1);function I(e,l,t,o,s,i){const r=(0,a.up)("map-location"),n=(0,a.up)("el-icon"),d=(0,a.up)("el-menu-item"),m=(0,a.up)("el-sub-menu"),u=(0,a.up)("money"),c=(0,a.up)("setting"),p=(0,a.up)("el-menu");return(0,a.wg)(),(0,a.j4)(p,{style:{width:"200px",height:"calc(100vh - 50px)"},"default-active":"1",class:"el-menu-vertical-demo",router:""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{index:"1"},{title:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1}),v])),default:(0,a.w5)((()=>[(0,a.Wm)(d,{index:"1-1",onClick:i.routeToUser},{default:(0,a.w5)((()=>[W])),_:1},8,["onClick"]),(0,a.Wm)(d,{index:"1-2"},{default:(0,a.w5)((()=>[k])),_:1}),(0,a.Wm)(d,{index:"1-3"},{default:(0,a.w5)((()=>[C])),_:1}),(0,a.Wm)(d,{index:"1-4"},{default:(0,a.w5)((()=>[S])),_:1})])),_:1}),(0,a.Wm)(d,{index:"2"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u)])),_:1}),V])),_:1}),(0,a.Wm)(d,{index:"4"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c)])),_:1}),U])),_:1})])),_:1})}var D=t(7007),x=t(3045),P=t(2671),F=t(141),z=t(4146),O={name:"aside",components:{Money:D.Z,MapLocation:x.Z,LocationFilled:P.Z,Document:F.Z,Setting:z.Z},methods:{routeToUser(){this.$router.push("/control/user-controller")}}};const L=(0,_.Z)(O,[["render",I]]);var H=L,N={name:"App"};const A=(0,_.Z)(N,[["render",s]]);var T=A,R=t(2119);const q={style:{width:"100%",height:"100vh","background-color":"mediumpurple",overflow:"hidden"}},J={style:{width:"450px",margin:"150px auto"}},Z=(0,a._)("div",{style:{color:"#ffffff","font-size":"32px","text-align":"center",padding:"30px"}},"Login",-1),E=(0,a.Uk)("Login"),M=(0,a.Uk)("Not own a account? Register Now!");function B(e,l,t,o,s,i){const r=(0,a.up)("user"),n=(0,a.up)("el-icon"),d=(0,a.up)("el-input"),m=(0,a.up)("el-form-itme"),u=(0,a.up)("lock"),c=(0,a.up)("el-button"),p=(0,a.up)("el-form-item"),h=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)("div",q,[(0,a._)("div",J,[Z,(0,a.Wm)(h,{ref:"form",model:s.loginForm,size:"large",rules:s.rules},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{prop:"username"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.loginForm.username,"onUpdate:modelValue":l[0]||(l[0]=e=>s.loginForm.username=e),placeholder:"Please input username"},{prefix:(0,a.w5)((()=>[(0,a.Wm)(n,{class:"el-input__icon",size:20},{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(m,{prop:"password"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.loginForm.password,"onUpdate:modelValue":l[1]||(l[1]=e=>s.loginForm.password=e),style:{width:"100%",margin:"11px 0 0 0"},"show-password":"",placeholder:"Please input password"},{prefix:(0,a.w5)((()=>[(0,a.Wm)(n,{class:"el-input__icon",size:20},{default:(0,a.w5)((()=>[(0,a.Wm)(u)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,{style:{width:"100%",margin:"20px 0 0 0"},type:"primary",onClick:i.login},{default:(0,a.w5)((()=>[E])),_:1},8,["onClick"])])),_:1}),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,{type:"text",onClick:l[2]||(l[2]=l=>e.$router.push("/register"))},{default:(0,a.w5)((()=>[M])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}var j=t(9588),G=t(7233),Y=t(9669),K=t.n(Y);const Q="ericbackend.azurewebsites.net/",X=K().create({baseURL:`https://${Q}`,timeout:1e4});X.interceptors.request.use((e=>{e.headers["Content-Type"]="application/json;charset=utf-8";let l=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null;return l&&(e.headers["token"]=l.token),e}),(e=>Promise.reject(e))),X.interceptors.response.use((e=>{let l=e.data;return"blob"===e.config.responseType||("string"===typeof l&&(l=l?JSON.parse(l):l),"301"===l.code&&console.error("token invalid")),l}),(e=>(console.log("err"+e),Promise.reject(e))));var ee=X,le={name:"LoginView",components:{Money:D.Z,MapLocation:x.Z,LocationFilled:P.Z,Document:F.Z,Setting:z.Z,Lock:j.Z,User:G.Z},data(){return{loginForm:{},rules:{username:[{required:!0,message:"please input username",trigger:"blur"}],password:[{required:!0,message:"please input password",trigger:"blur"}]}}},methods:{login(){console.log("login"),ee.post("/user/login",this.loginForm).then((e=>{console.log(e),"200"===e.code?(localStorage.setItem("user",JSON.stringify(e.data)),this.$message({type:"success",message:"Successfully login"}),this.$router.push("/control/home")):this.$message({type:"error",message:e.msg}),this.dialogVisible=!1}))}}};const te=(0,_.Z)(le,[["render",B]]);var oe=te;const ae={style:{width:"100%",height:"100vh",overflow:"hidden"}},se={style:{width:"400px",margin:"100px auto"}},ie=(0,a._)("div",{style:{"font-size":"30px","text-align":"center",padding:"30px 0"}},"Welcome to Registration",-1),re=(0,a.Uk)("Register"),ne=(0,a.Uk)("<<Back to Login ");function de(e,l,t,o,s,i){const r=(0,a.up)("user"),n=(0,a.up)("el-icon"),d=(0,a.up)("el-input"),m=(0,a.up)("el-form-item"),u=(0,a.up)("message"),c=(0,a.up)("lock"),p=(0,a.up)("el-button"),h=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)("div",ae,[(0,a._)("div",se,[ie,(0,a.Wm)(h,{ref:"form",model:s.form,size:"normal",rules:s.rules},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{prop:"username"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.form.username,"onUpdate:modelValue":l[0]||(l[0]=e=>s.form.username=e),placeholder:"Please input username"},{prefix:(0,a.w5)((()=>[(0,a.Wm)(n,{class:"el-input__icon",size:20},{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(m,{prop:"email"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.form.email,"onUpdate:modelValue":l[1]||(l[1]=e=>s.form.email=e),placeholder:"Please input email"},{prefix:(0,a.w5)((()=>[(0,a.Wm)(n,{class:"el-input__icon",size:20},{default:(0,a.w5)((()=>[(0,a.Wm)(u)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(m,{prop:"password"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.form.password,"onUpdate:modelValue":l[2]||(l[2]=e=>s.form.password=e),placeholder:"Please input password","show-password":""},{prefix:(0,a.w5)((()=>[(0,a.Wm)(n,{class:"el-input__icon",size:20},{default:(0,a.w5)((()=>[(0,a.Wm)(c)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(m,{prop:"confirm"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.form.confirm,"onUpdate:modelValue":l[3]||(l[3]=e=>s.form.confirm=e),placeholder:"Please input password again","show-password":""},{prefix:(0,a.w5)((()=>[(0,a.Wm)(n,{class:"el-input__icon",size:20},{default:(0,a.w5)((()=>[(0,a.Wm)(c)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,{style:{width:"100%"},type:"primary",onClick:i.register},{default:(0,a.w5)((()=>[re])),_:1},8,["onClick"])])),_:1}),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,{type:"text",onClick:l[4]||(l[4]=l=>e.$router.push("/login"))},{default:(0,a.w5)((()=>[ne])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}var me=t(4927),ue={name:"RegisterView",components:{Money:D.Z,MapLocation:x.Z,LocationFilled:P.Z,Document:F.Z,Message:me.Z,Setting:z.Z,Lock:j.Z,User:G.Z},data(){return{form:{},rules:{username:[{required:!0,message:"please input username",trigger:"blur"}],password:[{required:!0,message:"please input password",trigger:"blur"}],confirm:[{required:!0,message:"please input your password again",trigger:"blur"}]}}},methods:{register(){this.form.password===this.form.confirm?this.$refs["form"].validate((e=>{e&&(console.log("create"),ee.post("/user/register",this.form).then((e=>{console.log(e),"200"===e.code?(this.$message({type:"success",message:"Successfully add user"}),this.$router.push("/login")):this.$message({type:"error",message:e.msg}),this.load(),this.dialogVisible=!1})))})):this.$message({type:"error",message:"Inconsistent password input!"})}}};const ce=(0,_.Z)(ue,[["render",de]]);var pe=ce;const he={style:{padding:"10px",width:"100%"}},ge={style:{margin:"10px 0"}},fe={style:{margin:"10px 0"}},be=(0,a.Uk)("new profile"),_e={style:{margin:"10px 0"}},ye=(0,a.Uk)("User"),we=(0,a.Uk)("Profile"),ve=(0,a.Uk)("test hobby"),We=(0,a.Uk)("logout"),ke={style:{margin:"10px 0"}},Ce=(0,a.Uk)("Search"),Se=(0,a.Uk)("Edit"),Ve=(0,a.Uk)("Delete"),Ue={style:{"margin-top":"15px"}},Ie={style:{width:"85%"}},De=(0,a.Uk)("Apply"),xe=(0,a.Uk)("Cancel"),Pe={style:{width:"85%"}},Fe=(0,a.Uk)("Apply"),$e=(0,a.Uk)("Cancel");function ze(e,l,t,o,s,r){const n=(0,a.up)("el-button"),d=(0,a.up)("el-input"),m=(0,a.up)("el-table-column"),u=(0,a.up)("el-popconfirm"),c=(0,a.up)("el-table"),p=(0,a.up)("el-pagination"),h=(0,a.up)("el-form-item"),g=(0,a.up)("el-form"),f=(0,a.up)("el-dialog"),b=(0,a.up)("el-radio"),_=(0,a.up)("el-switch");return(0,a.wg)(),(0,a.iD)("div",he,[(0,a._)("div",ge,[(0,a._)("span",null,"current user: "+(0,i.zw)(s.user.username),1)]),(0,a._)("div",fe,[(0,a.Wm)(n,{type:"primary",onClick:r.addProfile},{default:(0,a.w5)((()=>[be])),_:1},8,["onClick"])]),(0,a._)("div",_e,[(0,a.Wm)(n,{type:"primary",onClick:r.showUser},{default:(0,a.w5)((()=>[ye])),_:1},8,["onClick"]),(0,a.Wm)(n,{type:"primary",onClick:r.showProfile},{default:(0,a.w5)((()=>[we])),_:1},8,["onClick"]),(0,a.Wm)(n,{type:"primary",onClick:r.testHobby},{default:(0,a.w5)((()=>[ve])),_:1},8,["onClick"]),(0,a.Wm)(n,{type:"primary",onClick:r.logout},{default:(0,a.w5)((()=>[We])),_:1},8,["onClick"])]),(0,a._)("div",ke,[(0,a.Wm)(d,{modelValue:s.query,"onUpdate:modelValue":l[0]||(l[0]=e=>s.query=e),placeholder:"please input username information to search",style:{width:"20%"},clearable:""},null,8,["modelValue"]),(0,a.Wm)(n,{type:"primary",style:{"margin-left":"7px"},onClick:r.load},{default:(0,a.w5)((()=>[Ce])),_:1},8,["onClick"])]),(0,a.Wm)(c,{data:s.tableData,border:"",stripe:"",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{prop:"id",label:"ID"}),(0,a.Wm)(m,{prop:"registerTime",label:"Register Time"}),(0,a.Wm)(m,{prop:"owner",label:"Owner"}),(0,a.Wm)(m,{prop:"username",label:"Username"}),(0,a.Wm)(m,{prop:"password",label:"Password"}),(0,a.Wm)(m,{prop:"email",label:"Email"}),(0,a.Wm)(m,{prop:"gender",label:"Gender"}),(0,a.Wm)(m,{prop:"age",label:"Age"}),(0,a.Wm)(m,{prop:"address",label:"Address"}),(0,a.Wm)(m,{prop:"hobby",label:"Hobby"}),(0,a.Wm)(m,{prop:"block",label:"Block"}),(0,a.Wm)(m,{prop:"privacy",label:"Privacy"}),(0,a.Wm)(m,{prop:"friend",label:"Friend"}),(0,a.Wm)(m,{fixed:"right",label:"Operations",width:"200px"},{default:(0,a.w5)((e=>[(0,a.Wm)(n,{type:"text",size:"small",onClick:l=>r.handleEdit(e.row)},{default:(0,a.w5)((()=>[Se])),_:2},1032,["onClick"]),(0,a.Wm)(u,{title:"Are you sure to delete this?",onConfirm:l=>r.handleDelete(e.row.id)},{reference:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",size:"small"},{default:(0,a.w5)((()=>[Ve])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),(0,a._)("div",Ue,[(0,a.Wm)(p,{onSizeChange:r.handleSizeChange,onCurrentChange:r.handleCurrentChange,"current-page":s.currentPage,"page-sizes":[5,10,20],"page-size":s.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:s.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"]),(0,a.Wm)(f,{id:"userForm",modelValue:s.dialogVisible,"onUpdate:modelValue":l[5]||(l[5]=e=>s.dialogVisible=e),title:s.dialogTitle,width:"30%"},{default:(0,a.w5)((()=>[(0,a._)("div",Ie,[(0,a.Wm)(g,{model:s.form,"label-width":"120px"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{label:"Username"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.form.username,"onUpdate:modelValue":l[1]||(l[1]=e=>s.form.username=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"Password"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{type:"password",modelValue:s.form.password,"onUpdate:modelValue":l[2]||(l[2]=e=>s.form.password=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"Email Address"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{type:"email",modelValue:s.form.email,"onUpdate:modelValue":l[3]||(l[3]=e=>s.form.email=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"primary",onClick:r.onSubmit},{default:(0,a.w5)((()=>[De])),_:1},8,["onClick"]),(0,a.Wm)(n,{onClick:l[4]||(l[4]=e=>s.dialogVisible=!1)},{default:(0,a.w5)((()=>[xe])),_:1})])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue","title"]),(0,a.Wm)(f,{id:"profileForm",modelValue:s.dialogProfileVisible,"onUpdate:modelValue":l[17]||(l[17]=e=>s.dialogProfileVisible=e),title:s.dialogProfileTitle,width:"30%"},{default:(0,a.w5)((()=>[(0,a._)("div",Pe,[(0,a.Wm)(g,{model:s.formProfile,"label-width":"120px"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{label:"Username"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.formProfile.username,"onUpdate:modelValue":l[6]||(l[6]=e=>s.formProfile.username=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"Age"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{type:"number",modelValue:s.formProfile.age,"onUpdate:modelValue":l[7]||(l[7]=e=>s.formProfile.age=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"Gender"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{modelValue:s.formProfile.gender,"onUpdate:modelValue":l[8]||(l[8]=e=>s.formProfile.gender=e),label:"Male",value:"male"},null,8,["modelValue"]),(0,a.Wm)(b,{modelValue:s.formProfile.gender,"onUpdate:modelValue":l[9]||(l[9]=e=>s.formProfile.gender=e),label:"Woman",value:"woman"},null,8,["modelValue"]),(0,a.Wm)(b,{modelValue:s.formProfile.gender,"onUpdate:modelValue":l[10]||(l[10]=e=>s.formProfile.gender=e),label:"Secret",value:"secret"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"Privacy"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{modelValue:s.formProfile.privacy,"onUpdate:modelValue":l[11]||(l[11]=e=>s.formProfile.privacy=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"Hobby"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.formProfile.hobby,"onUpdate:modelValue":l[12]||(l[12]=e=>s.formProfile.hobby=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"Block"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.formProfile.block,"onUpdate:modelValue":l[13]||(l[13]=e=>s.formProfile.block=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"Friend"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.formProfile.friend,"onUpdate:modelValue":l[14]||(l[14]=e=>s.formProfile.friend=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"Icon"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.formProfile.icon,"onUpdate:modelValue":l[15]||(l[15]=e=>s.formProfile.icon=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"primary",onClick:r.onProfileSubmit},{default:(0,a.w5)((()=>[Fe])),_:1},8,["onClick"]),(0,a.Wm)(n,{onClick:l[16]||(l[16]=e=>s.dialogProfileVisible=!1)},{default:(0,a.w5)((()=>[$e])),_:1})])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue","title"])])])}var Oe={name:"Home",components:{},data(){return{loginForm:{},form:{},formProfile:{},dialogTitle:"Create new user",dialogProfileTitle:"Create new profile",dialogLoginTitle:"login",dialogVisible:!1,dialogProfileVisible:!1,dialogLoginVisible:!1,query:"",total:0,currentPage:1,pageSize:10,pageNum:10,search:"",mode:0,tableData:[],user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}}},created(){this.load()},methods:{refreshUser(){this.user=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}},load(){0===this.mode?ee.get("/user/page",{params:{pageNum:this.currentPage,pageSize:this.pageSize,query:this.query}}).then((e=>{console.log(e),this.tableData=e.data.records,this.total=e.data.total})):1===this.mode?ee.get("/profile/page",{params:{pageNum:this.currentPage,pageSize:this.pageSize,query:this.query}}).then((e=>{console.log(e),this.tableData=e.data.records,this.total=e.data.total})):this.mode},logout(){localStorage.removeItem("user"),localStorage.removeItem("profile"),this.refreshUser(),this.$message({type:"success",message:"Successfully logout"}),this.$router.push("/login")},addProfile(){this.dialogProfileVisible=!0,this.form={},this.dialogProfileTitle="Create new profile"},onSubmit(){this.form.id&&(console.log("update"),ee.put("/user",this.form).then((e=>{console.log(e),"200"===e.code?this.$message({type:"success",message:"Successfully update user"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogVisible=!1})))},onProfileSubmit(){this.formProfile.id?(console.log("update"),ee.put("/profile",this.formProfile).then((e=>{console.log(e),"0"===e.code?this.$message({type:"success",message:"Successfully update profile"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogVisible=!1}))):(console.log("create"),ee.post("/profile/create",this.formProfile).then((e=>{console.log(e),"200"===e.code?this.$message({type:"success",message:"Successfully add profile"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogVisible=!1})))},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0,this.dialogTitle="Update user information"},handleDelete(e){console.log(e),ee["delete"]("/user/"+e).then((e=>{"0"===e.code?this.$message({type:"success",message:"successfully delete"}):this.$message({type:"error",message:e.msg}),this.load()}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.currentPage=e,this.load()},showUser(){this.mode=0,this.load()},showProfile(){this.mode=1,this.load()},testHobby(){ee.get("/hobby/page",{params:{pageNum:this.currentPage,pageSize:this.pageSize,query:this.query}}).then((e=>{this.tableData=e.data.records,this.total=e.data.total,console.log(this.tableData)}))}}};const Le=(0,_.Z)(Oe,[["render",ze]]);var He=Le;const Ne={style:{display:"flex"}};function Ae(e,l,t,o,s,i){const r=(0,a.up)("PageHeader"),n=(0,a.up)("AsideComponent"),d=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r),(0,a._)("div",Ne,[(0,a.Wm)(n),(0,a.Wm)(d)])],64)}const Te=(0,a._)("span",null,"Database",-1),Re=(0,a.Uk)("User"),qe=(0,a.Uk)("Profile"),Je=(0,a.Uk)("Hobby"),Ze=(0,a.Uk)("File"),Ee=(0,a._)("span",null,"Fast Code",-1),Me=(0,a._)("span",null,"ProfileDemo",-1);function Be(e,l,t,o,s,i){const r=(0,a.up)("map-location"),n=(0,a.up)("el-icon"),d=(0,a.up)("el-menu-item"),m=(0,a.up)("el-sub-menu"),u=(0,a.up)("money"),c=(0,a.up)("setting"),p=(0,a.up)("el-menu");return(0,a.wg)(),(0,a.j4)(p,{style:{width:"200px",height:"calc(100vh - 50px)"},"default-active":"1",class:"el-menu-vertical-demo",router:""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{index:"1"},{title:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1}),Te])),default:(0,a.w5)((()=>[(0,a.Wm)(d,{index:"1-1",onClick:i.routeToUser},{default:(0,a.w5)((()=>[Re])),_:1},8,["onClick"]),(0,a.Wm)(d,{index:"1-2",onClick:i.routeToProfile},{default:(0,a.w5)((()=>[qe])),_:1},8,["onClick"]),(0,a.Wm)(d,{index:"1-3",onClick:i.routeToHobby},{default:(0,a.w5)((()=>[Je])),_:1},8,["onClick"]),(0,a.Wm)(d,{index:"1-4",onClick:i.routeToFile},{default:(0,a.w5)((()=>[Ze])),_:1},8,["onClick"])])),_:1}),(0,a.Wm)(d,{index:"2",onClick:i.routeToFastCode},{default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u)])),_:1}),Ee])),_:1},8,["onClick"]),(0,a.Wm)(d,{index:"4",onClick:i.routeToProfileDemo},{default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c)])),_:1}),Me])),_:1},8,["onClick"])])),_:1})}var je={name:"myAside",components:{Money:D.Z,MapLocation:x.Z,LocationFilled:P.Z,Document:F.Z,Setting:z.Z},methods:{routeToUser(){this.$router.push("/control/user-controller")},routeToProfile(){this.$router.push("/control/profile-controller")},routeToHobby(){this.$router.push("/control/hobby-controller")},routeToFile(){this.$router.push("/control/file-controller")},routeToFastCode(){this.$router.push("/control/fastcode-controller")},routeToProfileDemo(){this.$router.push("/control/profile-demo")}}};const Ge=(0,_.Z)(je,[["render",Be]]);var Ye=Ge,Ke={name:"Layout",components:{PageHeader:w,Aside:H,AsideComponent:Ye}};const Qe=(0,_.Z)(Ke,[["render",Ae]]);var Xe=Qe;const el={style:{padding:"10px",width:"100%"}},ll={style:{margin:"10px 0"}},tl={style:{margin:"10px 0"}},ol=(0,a.Uk)("New User"),al={style:{margin:"10px 0"}},sl=(0,a.Uk)("Search"),il=(0,a.Uk)("Edit"),rl=(0,a.Uk)("Delete"),nl={style:{"margin-top":"15px"}},dl={style:{width:"85%"}},ml=(0,a.Uk)("Manager"),ul=(0,a.Uk)("Facility"),cl=(0,a.Uk)("Resident"),pl=(0,a.Uk)("Nurse"),hl=(0,a.Uk)("Get FastCode"),gl=(0,a.Uk)("Apply"),fl=(0,a.Uk)("Cancel");function bl(e,l,t,o,s,r){const n=(0,a.up)("el-button"),d=(0,a.up)("el-input"),m=(0,a.up)("el-table-column"),u=(0,a.up)("el-popconfirm"),c=(0,a.up)("el-table"),p=(0,a.up)("el-pagination"),h=(0,a.up)("el-form-item"),g=(0,a.up)("el-radio"),f=(0,a.up)("el-form"),b=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)("div",el,[(0,a._)("div",ll,[(0,a._)("span",null,"current user: "+(0,i.zw)(s.user.username),1)]),(0,a._)("div",tl,[(0,a.Wm)(n,{type:"primary",onClick:r.addUser},{default:(0,a.w5)((()=>[ol])),_:1},8,["onClick"])]),(0,a._)("div",al,[(0,a.Wm)(d,{modelValue:s.query,"onUpdate:modelValue":l[0]||(l[0]=e=>s.query=e),placeholder:"please input username information to search",style:{width:"20%"},clearable:""},null,8,["modelValue"]),(0,a.Wm)(n,{type:"primary",style:{"margin-left":"7px"},onClick:r.load},{default:(0,a.w5)((()=>[sl])),_:1},8,["onClick"])]),(0,a.Wm)(c,{data:s.tableData,border:"",stripe:"",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{prop:"id",label:"ID"}),(0,a.Wm)(m,{prop:"registerTime",label:"Register Time"}),(0,a.Wm)(m,{prop:"lastLogin",label:"Last Login Time"}),(0,a.Wm)(m,{prop:"role",label:"Role"}),(0,a.Wm)(m,{prop:"username",label:"Username"}),(0,a.Wm)(m,{prop:"password",label:"Password"}),(0,a.Wm)(m,{prop:"email",label:"Email"}),(0,a.Wm)(m,{prop:"address",label:"Address"}),(0,a.Wm)(m,{prop:"abn",label:"ABN"}),(0,a.Wm)(m,{fixed:"right",label:"Operations",width:"200px"},{default:(0,a.w5)((e=>[(0,a.Wm)(n,{type:"text",size:"small",onClick:l=>r.handleEdit(e.row)},{default:(0,a.w5)((()=>[il])),_:2},1032,["onClick"]),(0,a.Wm)(u,{title:"Are you sure to delete this?",onConfirm:l=>r.handleDelete(e.row.id)},{reference:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",size:"small"},{default:(0,a.w5)((()=>[rl])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),(0,a._)("div",nl,[(0,a.Wm)(p,{onSizeChange:r.handleSizeChange,onCurrentChange:r.handleCurrentChange,"current-page":s.currentPage,"page-sizes":[5,10,20],"page-size":s.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:s.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])]),(0,a.Wm)(b,{id:"userForm",modelValue:s.dialogVisible,"onUpdate:modelValue":l[12]||(l[12]=e=>s.dialogVisible=e),title:s.dialogTitle,width:"30%"},{default:(0,a.w5)((()=>[(0,a._)("div",dl,[(0,a.Wm)(f,{model:s.form,"label-width":"120px"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{label:"Username"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.form.username,"onUpdate:modelValue":l[1]||(l[1]=e=>s.form.username=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"Password"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{type:"password",modelValue:s.form.password,"onUpdate:modelValue":l[2]||(l[2]=e=>s.form.password=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"Email Address"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{type:"email",modelValue:s.form.email,"onUpdate:modelValue":l[3]||(l[3]=e=>s.form.email=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"Role"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{modelValue:s.form.role,"onUpdate:modelValue":l[4]||(l[4]=e=>s.form.role=e),label:"manager",onClick:r.notChooseFacility},{default:(0,a.w5)((()=>[ml])),_:1},8,["modelValue","onClick"]),(0,a.Wm)(g,{modelValue:s.form.role,"onUpdate:modelValue":l[5]||(l[5]=e=>s.form.role=e),label:"facility",onClick:r.chooseFacility},{default:(0,a.w5)((()=>[ul])),_:1},8,["modelValue","onClick"]),(0,a.Wm)(g,{modelValue:s.form.role,"onUpdate:modelValue":l[6]||(l[6]=e=>s.form.role=e),label:"resident",onClick:r.notChooseFacility},{default:(0,a.w5)((()=>[cl])),_:1},8,["modelValue","onClick"]),(0,a.Wm)(g,{modelValue:s.form.role,"onUpdate:modelValue":l[7]||(l[7]=e=>s.form.role=e),label:"nurse",onClick:r.notChooseFacility},{default:(0,a.w5)((()=>[pl])),_:1},8,["modelValue","onClick"])])),_:1}),(0,a.Wm)(h,{label:"ABN"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{type:"abn",disabled:!this.isFacility,modelValue:s.form.abn,"onUpdate:modelValue":l[8]||(l[8]=e=>s.form.abn=e)},null,8,["disabled","modelValue"])])),_:1}),(0,a.Wm)(h,{label:"Address"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{type:"address",modelValue:s.form.address,"onUpdate:modelValue":l[9]||(l[9]=e=>s.form.address=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"Fast Code"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{disabled:!this.isFacility,modelValue:s.form.code,"onUpdate:modelValue":l[10]||(l[10]=e=>s.form.code=e)},null,8,["disabled","modelValue"])])),_:1}),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"primary",onClick:r.onApplyFastCode},{default:(0,a.w5)((()=>[hl])),_:1},8,["onClick"]),(0,a.Wm)(n,{type:"primary",onClick:r.onSubmit},{default:(0,a.w5)((()=>[gl])),_:1},8,["onClick"]),(0,a.Wm)(n,{onClick:l[11]||(l[11]=e=>s.dialogVisible=!1)},{default:(0,a.w5)((()=>[fl])),_:1})])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue","title"])])}var _l={name:"UserControllerView",components:{},data(){return{isFacility:!1,loginForm:{},form:{},formProfile:{},dialogTitle:"Create new user",dialogLoginTitle:"login",dialogVisible:!1,query:"",total:0,currentPage:1,pageSize:10,pageNum:10,search:"",mode:0,fastCodeFrom:{},tableData:[],user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}}},created(){this.load()},methods:{onApplyFastCode(){this.fastCodeFrom.name=this.form.username,this.fastCodeFrom.email=this.form.email,this.fastCodeFrom.address=this.form.address,this.fastCodeFrom.abn=this.form.abn,this.fastCodeFrom.role=this.form.role,ee.post("/fastcode/create",this.fastCodeFrom).then((e=>{console.log(e),"200"===e.code?this.$message({type:"success",message:"Successfully Apply user fast code"}):this.$message({type:"error",message:e.msg})}))},chooseFacility(){this.isFacility=!0,console.log(this.isFacility)},notChooseFacility(){this.isFacility=!1,console.log(this.isFacility)},refreshUser(){this.user=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}},load(){ee.get("/user/page",{params:{pageNum:this.currentPage,pageSize:this.pageSize,query:this.query}}).then((e=>{console.log(e),this.tableData=e.data.records,this.total=e.data.total}))},addUser(){this.dialogVisible=!0,this.form={},this.dialogTitle="Create new user",this.isFacility=!1},onSubmit(){this.form.id?(console.log("update"),ee.put("/user",this.form).then((e=>{console.log(e),"200"===e.code?this.$message({type:"success",message:"Successfully update user"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogVisible=!1}))):(console.log("create"),"facility"!==this.form.role&&(this.form.abn=null),console.log(this.form),ee.post("/user/register",this.form).then((e=>{console.log(e),"200"===e.code?this.$message({type:"success",message:"Successfully add user"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogVisible=!1})))},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0,this.dialogTitle="Update user information"},handleDelete(e){console.log(e),ee["delete"]("/user/"+e).then((e=>{"200"===e.code?this.$message({type:"success",message:"successfully delete"}):this.$message({type:"error",message:e.msg}),this.load()}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.currentPage=e,this.load()}}};const yl=(0,_.Z)(_l,[["render",bl]]);var wl=yl;const vl={style:{padding:"10px",width:"100%"}},Wl={style:{margin:"10px 0"}},kl={style:{margin:"10px 0"}},Cl=(0,a.Uk)("Upload File"),Sl={style:{margin:"10px 0"}},Vl=(0,a.Uk)("Search"),Ul=(0,a.Uk)("Download"),Il=(0,a.Uk)("Delete"),Dl={style:{"margin-top":"15px"}},xl={style:{width:"85%"}},Pl=["src"],Fl={style:{"margin-top":"10px"}},$l=(0,a.Uk)("Cancel");function zl(e,l,t,o,s,r){const n=(0,a.up)("el-button"),d=(0,a.up)("el-input"),m=(0,a.up)("el-table-column"),u=(0,a.up)("el-image"),c=(0,a.up)("el-switch"),p=(0,a.up)("el-popconfirm"),h=(0,a.up)("el-table"),g=(0,a.up)("el-pagination"),f=(0,a.up)("Plus"),b=(0,a.up)("el-icon"),_=(0,a.up)("el-upload"),y=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)("div",vl,[(0,a._)("div",Wl,[(0,a._)("span",null,"current user: "+(0,i.zw)(s.user.username),1)]),(0,a._)("div",kl,[(0,a.Wm)(n,{type:"primary",onClick:r.addFile},{default:(0,a.w5)((()=>[Cl])),_:1},8,["onClick"])]),(0,a._)("div",Sl,[(0,a.Wm)(d,{modelValue:s.query,"onUpdate:modelValue":l[0]||(l[0]=e=>s.query=e),placeholder:"please input information of file name to search",style:{width:"20%"},clearable:""},null,8,["modelValue"]),(0,a.Wm)(n,{type:"primary",style:{"margin-left":"7px"},onClick:r.load},{default:(0,a.w5)((()=>[Vl])),_:1},8,["onClick"])]),(0,a.Wm)(h,{data:s.tableData,border:"",stripe:"",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{prop:"id",label:"ID"}),(0,a.Wm)(m,{prop:"name",label:"File Name"}),(0,a.Wm)(m,{label:"img"},{default:(0,a.w5)((e=>[(0,a.Wm)(u,{style:{width:"100px",height:"100px"},src:e.row.url},null,8,["src"])])),_:1}),(0,a.Wm)(m,{prop:"type",label:"File Type"}),(0,a.Wm)(m,{prop:"size",label:"Size(kb)"}),(0,a.Wm)(m,{prop:"md5",label:"MD5"}),(0,a.Wm)(m,{prop:"url",label:"URL"}),(0,a.Wm)(m,{prop:"isDelete",label:"is_delete"}),(0,a.Wm)(m,{label:"Enable"},{default:(0,a.w5)((e=>[(0,a.Wm)(c,{disabled:this.checkSpecial(e.row),modelValue:e.row.enable,"onUpdate:modelValue":l=>e.row.enable=l,"active-value":"1","inactive-value":"0","active-color":"#13ce66","inactive-color":"#ccc",onChange:l=>r.changeEnable(e.row.cid,e.row)},null,8,["disabled","modelValue","onUpdate:modelValue","onChange"])])),_:1}),(0,a.Wm)(m,{fixed:"right",label:"Operations",width:"200px"},{default:(0,a.w5)((e=>[(0,a.Wm)(n,{type:"text",size:"small",onClick:l=>r.handleDownload(e.row)},{default:(0,a.w5)((()=>[Ul])),_:2},1032,["onClick"]),(0,a.Wm)(p,{title:"Are you sure to delete this?",onConfirm:l=>r.handleDelete(e.row.id)},{reference:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",size:"small"},{default:(0,a.w5)((()=>[Il])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),(0,a._)("div",Dl,[(0,a.Wm)(g,{onSizeChange:r.handleSizeChange,onCurrentChange:r.handleCurrentChange,"current-page":s.currentPage,"page-sizes":[5,10,20],"page-size":s.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:s.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])]),(0,a.Wm)(y,{modelValue:s.dialogFileVisible,"onUpdate:modelValue":l[2]||(l[2]=e=>s.dialogFileVisible=e),title:s.dialogFileTitle,width:"30%"},{default:(0,a.w5)((()=>[(0,a._)("div",xl,[(0,a.Wm)(_,{class:"avatar-uploader",action:"http://"+s.serverIp+"/file/upload","show-file-list":!1,"on-change":r.handleLicensePreview,"before-upload":r.beforeLicenseUpload,"on-success":r.handleAvatarSuccess,headers:s.uploadHeaders},{default:(0,a.w5)((()=>[null!=this.img?((0,a.wg)(),(0,a.iD)("img",{key:0,src:this.img,class:"avatar"},null,8,Pl)):((0,a.wg)(),(0,a.j4)(b,{key:1,class:"avatar-uploader-icon"},{default:(0,a.w5)((()=>[(0,a.Wm)(f)])),_:1}))])),_:1},8,["action","on-change","before-upload","on-success","headers"]),(0,a._)("div",Fl,[(0,a.Wm)(n,{onClick:l[1]||(l[1]=e=>s.dialogFileVisible=!1)},{default:(0,a.w5)((()=>[$l])),_:1})])])])),_:1},8,["modelValue","title"])])}var Ol=t(3411),Ll={name:"FileControllerView",components:{Plus:Ol.Z},data(){return{serverIp:Q,dialogFileTitle:"Create new profile",dialogFileVisible:!1,version:Math.random(),query:"",total:0,currentPage:1,pageSize:10,pageNum:10,search:"",tableData:[],img:null,user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,uploadHeaders:{}}},created(){this.load(),this.uploadHeaders.token=this.user.token},methods:{checkSpecial(e){return"special"===e.md5},handleLicensePreview(e){const l=e.size/1024/1024<2;l||this.$message.error("Avatar picture size can not exceed 2MB!")},handleAvatarSuccess(e){this.dialogFileVisible=!1,this.img=null,this.load(),this.$message({type:"success",message:"Successfully upload file"})},beforeLicenseUpload(e){return"image/jpeg"!==e.type&&"image/png"!==e.type&&"image/jpg"!==e.type?(this.$message({type:"error",message:"Avatar picture must be JPG format!"}),!1):!(e.size/1024/1024>2)||(this.$message({type:"error",message:"Avatar picture size can not exceed 2MB!"}),!1)},changeEnable(e,l){ee.post("/file/update",l).then((e=>{"200"===e.code?this.$message({type:"success",message:"Successfully change enable property of file. Please Refresh Page"}):this.$message({type:"error",message:e.msg})}))},refreshUser(){this.user=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}},load(){this.refreshUser(),ee.get("/file/page",{params:{pageNum:this.currentPage,pageSize:this.pageSize,query:this.query}}).then((e=>{this.tableData=e.data.records,this.total=e.data.total}))},addFile(){this.img=null,this.dialogFileVisible=!0,this.fileForm={},this.dialogFileTitle="Upload new file"},handleDownload(e){let l;l=JSON.parse(JSON.stringify(e.url)),window.open(l)},handleDelete(e){ee["delete"]("/file/"+e).then((e=>{"200"===e.code?this.$message({type:"success",message:"successfully delete"}):this.$message({type:"error",message:e.msg}),this.load()}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.currentPage=e,this.load()}}};const Hl=(0,_.Z)(Ll,[["render",zl],["__scopeId","data-v-2cdc0c01"]]);var Nl=Hl;const Al={style:{padding:"10px",width:"100%"}},Tl={style:{margin:"10px 0"}},Rl={style:{margin:"10px 0"}},ql=(0,a.Uk)("New Profile"),Jl={style:{margin:"10px 0"}},Zl=(0,a.Uk)("Search"),El=(0,a.Uk)("Edit"),Ml=(0,a.Uk)("Delete"),Bl={style:{"margin-top":"15px"}},jl={style:{width:"85%"}},Gl=["src"],Yl=(0,a.Uk)("hide"),Kl=(0,a.Uk)("open"),Ql=(0,a.Uk)("Male"),Xl=(0,a.Uk)("Female"),et=(0,a.Uk)("Secret"),lt=(0,a.Uk)("Apply"),tt=(0,a.Uk)("Cancel");function ot(e,l,t,o,s,r){const n=(0,a.up)("el-button"),d=(0,a.up)("el-input"),m=(0,a.up)("el-table-column"),u=(0,a.up)("el-image"),c=(0,a.up)("el-popconfirm"),p=(0,a.up)("el-table"),h=(0,a.up)("el-pagination"),g=(0,a.up)("Plus"),f=(0,a.up)("el-icon"),b=(0,a.up)("el-upload"),_=(0,a.up)("el-form-item"),y=(0,a.up)("el-radio"),w=(0,a.up)("el-radio-group"),v=(0,a.up)("el-form"),W=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)("div",Al,[(0,a._)("div",Tl,[(0,a._)("span",null,"current user: "+(0,i.zw)(s.user.username),1)]),(0,a._)("div",Rl,[(0,a.Wm)(n,{type:"primary",onClick:r.addProfile},{default:(0,a.w5)((()=>[ql])),_:1},8,["onClick"])]),(0,a._)("div",Jl,[(0,a.Wm)(d,{modelValue:s.query,"onUpdate:modelValue":l[0]||(l[0]=e=>s.query=e),placeholder:"please input information of file name to search",style:{width:"20%"},clearable:""},null,8,["modelValue"]),(0,a.Wm)(n,{type:"primary",style:{"margin-left":"7px"},onClick:r.load},{default:(0,a.w5)((()=>[Zl])),_:1},8,["onClick"])]),(0,a.Wm)(p,{data:s.tableData,border:"",stripe:"",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{prop:"id",label:"ID"}),(0,a.Wm)(m,{prop:"owner",label:"Owner ID"}),(0,a.Wm)(m,{prop:"username",label:"Profile Username"}),(0,a.Wm)(m,{label:"Header"},{default:(0,a.w5)((e=>[(0,a.Wm)(u,{style:{width:"100px",height:"100px"},src:e.row.icon},null,8,["src"])])),_:1}),(0,a.Wm)(m,{prop:"privacy",label:"privacy"}),(0,a.Wm)(m,{prop:"age",label:"Age"}),(0,a.Wm)(m,{prop:"gender",label:"Gender"}),(0,a.Wm)(m,{prop:"online",label:"Online"}),(0,a.Wm)(m,{prop:"oncall",label:"Oncall"}),(0,a.Wm)(m,{prop:"lsatLogin",label:"Lsat Login Time"}),(0,a.Wm)(m,{fixed:"right",label:"Operations",width:"200px"},{default:(0,a.w5)((e=>[(0,a.Wm)(n,{type:"text",size:"small",onClick:l=>r.handleEdit(e.row)},{default:(0,a.w5)((()=>[El])),_:2},1032,["onClick"]),(0,a.Wm)(c,{title:"Are you sure to delete this?",onConfirm:l=>r.handleDelete(e.row.id)},{reference:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",size:"small"},{default:(0,a.w5)((()=>[Ml])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),(0,a._)("div",Bl,[(0,a.Wm)(h,{onSizeChange:r.handleSizeChange,onCurrentChange:r.handleCurrentChange,"current-page":s.currentPage,"page-sizes":[5,10,20],"page-size":s.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:s.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])]),(0,a.Wm)(W,{id:"profileForm",modelValue:s.dialogProfileVisible,"onUpdate:modelValue":l[9]||(l[9]=e=>s.dialogProfileVisible=e),title:s.dialogProfileTitle,width:"30%"},{default:(0,a.w5)((()=>[(0,a._)("div",jl,[(0,a.Wm)(v,{model:s.form,"label-width":"120px"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{label:"Upload Profile Icon"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{class:"avatar-uploader",action:"http://"+s.serverIp+"/file/upload","show-file-list":!1,"on-change":r.handleLicensePreview,"before-upload":r.beforeLicenseUpload,"on-success":r.handleAvatarSuccess,headers:s.uploadHeaders},{default:(0,a.w5)((()=>[null!=this.img?((0,a.wg)(),(0,a.iD)("img",{key:0,src:this.img,class:"avatar"},null,8,Gl)):((0,a.wg)(),(0,a.j4)(f,{key:1,class:"avatar-uploader-icon"},{default:(0,a.w5)((()=>[(0,a.Wm)(g)])),_:1}))])),_:1},8,["action","on-change","before-upload","on-success","headers"])])),_:1}),(0,a.Wm)(_,{label:"Owner ID"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.form.owner,"onUpdate:modelValue":l[1]||(l[1]=e=>s.form.owner=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(_,{label:"Profile Name"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.form.username,"onUpdate:modelValue":l[2]||(l[2]=e=>s.form.username=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(_,{label:"Privacy"},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{modelValue:s.form.privacy,"onUpdate:modelValue":l[3]||(l[3]=e=>s.form.privacy=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{label:1},{default:(0,a.w5)((()=>[Yl])),_:1}),(0,a.Wm)(y,{label:0},{default:(0,a.w5)((()=>[Kl])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(_,{label:"Friend List"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.form.friend,"onUpdate:modelValue":l[4]||(l[4]=e=>s.form.friend=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(_,{label:"Hobby List"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.form.hobby,"onUpdate:modelValue":l[5]||(l[5]=e=>s.form.hobby=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(_,{label:"Age"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.form.age,"onUpdate:modelValue":l[6]||(l[6]=e=>s.form.age=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(_,{label:"Gender"},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{modelValue:s.form.gender,"onUpdate:modelValue":l[7]||(l[7]=e=>s.form.gender=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{label:"male"},{default:(0,a.w5)((()=>[Ql])),_:1}),(0,a.Wm)(y,{label:"female"},{default:(0,a.w5)((()=>[Xl])),_:1}),(0,a.Wm)(y,{label:"secret"},{default:(0,a.w5)((()=>[et])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(_,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"primary",onClick:r.onSubmit},{default:(0,a.w5)((()=>[lt])),_:1},8,["onClick"]),(0,a.Wm)(n,{onClick:l[8]||(l[8]=e=>s.dialogProfileVisible=!1)},{default:(0,a.w5)((()=>[tt])),_:1})])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue","title"])])}var at={name:"ProfileControllerView",components:{Plus:Ol.Z},data(){return{serverIp:Q,form:{},dialogProfileTitle:"Create new hobby",dialogProfileVisible:!1,isSecondLevel:!1,version:Math.random(),query:"",total:0,currentPage:1,pageSize:10,pageNum:10,search:"",tableData:[],img:null,user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,uploadHeaders:{}}},created(){this.load(),this.uploadHeaders.token=this.user.token},methods:{onSubmit(){this.form.id?(console.log("update"),ee.put("/profile",this.form).then((e=>{console.log(e),"200"===e.code?this.$message({type:"success",message:"Successfully update user"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogProfileVisible=!1}))):(console.log("create"),console.log(this.form),1!==this.form.level&&2!==this.form.level&&(this.form.level=1),console.log(this.form),ee.post("/profile/create",this.form).then((e=>{console.log(e),"200"===e.code?this.$message({type:"success",message:"Successfully add hobby"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogProfileVisible=!1})))},handleLicensePreview(e){const l=e.size/1024/1024<2;l||this.$message.error("Avatar picture size can not exceed 2MB!")},handleAvatarSuccess(e){this.form.icon=e,this.img=e,this.load(),this.$message({type:"success",message:"Successfully upload file"})},beforeLicenseUpload(e){return"image/jpeg"!==e.type&&"image/png"!==e.type&&"image/jpg"!==e.type?(this.$message({type:"error",message:"Avatar picture must be JPG format!"}),!1):!(e.size/1024/1024>2)||(this.$message({type:"error",message:"Avatar picture size can not exceed 2MB!"}),!1)},refreshUser(){this.user=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}},load(){this.refreshUser(),ee.get("/profile/page-manager",{params:{pageNum:this.currentPage,pageSize:this.pageSize,query:this.query}}).then((e=>{console.log(e),this.tableData=e.data.records,this.total=e.data.total}))},addProfile(){this.form={},this.form.gender="secret",this.form.privacy=0,this.img=null,this.dialogProfileVisible=!0,this.fileForm={},this.dialogProfileTitle="New Profile"},handleDelete(e){ee["delete"]("/profile/"+e).then((e=>{"200"===e.code?this.$message({type:"success",message:"successfully delete"}):this.$message({type:"error",message:e.msg}),this.load()}))},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.img=this.form.icon,this.dialogProfileVisible=!0,this.dialogProfileTitle="Update Profile"},handleAccess(e){this.form=JSON.parse(JSON.stringify(e)),console.log(this.form)},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.currentPage=e,this.load()}}};const st=(0,_.Z)(at,[["render",ot],["__scopeId","data-v-6ab5ce58"]]);var it=st;const rt={style:{padding:"10px",width:"100%"}},nt={style:{margin:"10px 0"}},dt={style:{margin:"10px 0"}},mt=(0,a.Uk)("New Hobby"),ut={style:{margin:"10px 0"}},ct=(0,a.Uk)("Search"),pt=(0,a.Uk)("Edit"),ht=(0,a.Uk)("Delete"),gt={style:{"margin-top":"15px"}},ft={style:{width:"85%"}},bt=["src"],_t=(0,a.Uk)("Level 1"),yt=(0,a.Uk)("Level 2"),wt=(0,a.Uk)("Apply"),vt=(0,a.Uk)("Cancel");function Wt(e,l,t,o,s,r){const n=(0,a.up)("el-button"),d=(0,a.up)("el-input"),m=(0,a.up)("el-table-column"),u=(0,a.up)("el-image"),c=(0,a.up)("el-popconfirm"),p=(0,a.up)("el-table"),h=(0,a.up)("el-pagination"),g=(0,a.up)("Plus"),f=(0,a.up)("el-icon"),b=(0,a.up)("el-upload"),_=(0,a.up)("el-form-item"),y=(0,a.up)("el-radio"),w=(0,a.up)("el-form"),v=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)("div",rt,[(0,a._)("div",nt,[(0,a._)("span",null,"current user: "+(0,i.zw)(s.user.username),1)]),(0,a._)("div",dt,[(0,a.Wm)(n,{type:"primary",onClick:r.addHobby},{default:(0,a.w5)((()=>[mt])),_:1},8,["onClick"])]),(0,a._)("div",ut,[(0,a.Wm)(d,{modelValue:s.query,"onUpdate:modelValue":l[0]||(l[0]=e=>s.query=e),placeholder:"please input information of file name to search",style:{width:"20%"},clearable:""},null,8,["modelValue"]),(0,a.Wm)(n,{type:"primary",style:{"margin-left":"7px"},onClick:r.load},{default:(0,a.w5)((()=>[ct])),_:1},8,["onClick"])]),(0,a.Wm)(p,{data:s.tableData,border:"",stripe:"",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{prop:"id",label:"ID"}),(0,a.Wm)(m,{prop:"name",label:"Hobby Name"}),(0,a.Wm)(m,{label:"Hobby Img"},{default:(0,a.w5)((e=>[(0,a.Wm)(u,{style:{width:"100px",height:"100px"},src:e.row.icon},null,8,["src"])])),_:1}),(0,a.Wm)(m,{prop:"level",label:"Hobby Level"}),(0,a.Wm)(m,{prop:"tophobbyname",label:"Top Hobby ID"}),(0,a.Wm)(m,{prop:"icon",label:"Img Url"}),(0,a.Wm)(m,{fixed:"right",label:"Operations",width:"200px"},{default:(0,a.w5)((e=>[(0,a.Wm)(n,{type:"text",size:"small",onClick:l=>r.handleEdit(e.row)},{default:(0,a.w5)((()=>[pt])),_:2},1032,["onClick"]),(0,a.Wm)(c,{title:"Are you sure to delete this?",onConfirm:l=>r.handleDelete(e.row.id)},{reference:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",size:"small"},{default:(0,a.w5)((()=>[ht])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),(0,a._)("div",gt,[(0,a.Wm)(h,{onSizeChange:r.handleSizeChange,onCurrentChange:r.handleCurrentChange,"current-page":s.currentPage,"page-sizes":[5,10,20],"page-size":s.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:s.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])]),(0,a.Wm)(v,{id:"hobbyForm",modelValue:s.dialogHobbyVisible,"onUpdate:modelValue":l[6]||(l[6]=e=>s.dialogHobbyVisible=e),title:s.dialogHobbyTitle,width:"30%"},{default:(0,a.w5)((()=>[(0,a._)("div",ft,[(0,a.Wm)(w,{model:s.form,"label-width":"120px"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{label:"Upload Hobby Icon"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{class:"avatar-uploader",action:"http://"+s.serverIp+"/file/upload","show-file-list":!1,"on-change":r.handleLicensePreview,"before-upload":r.beforeLicenseUpload,"on-success":r.handleAvatarSuccess,headers:s.uploadHeaders},{default:(0,a.w5)((()=>[null!=this.img?((0,a.wg)(),(0,a.iD)("img",{key:0,src:this.img,class:"avatar"},null,8,bt)):((0,a.wg)(),(0,a.j4)(f,{key:1,class:"avatar-uploader-icon"},{default:(0,a.w5)((()=>[(0,a.Wm)(g)])),_:1}))])),_:1},8,["action","on-change","before-upload","on-success","headers"])])),_:1}),(0,a.Wm)(_,{label:"Hobby Name"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.form.name,"onUpdate:modelValue":l[1]||(l[1]=e=>s.form.name=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(_,{label:"Hobby Level"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{modelValue:s.form.level,"onUpdate:modelValue":l[2]||(l[2]=e=>s.form.level=e),label:1,onClick:r.chooseHobbyLevelOne},{default:(0,a.w5)((()=>[_t])),_:1},8,["modelValue","onClick"]),(0,a.Wm)(y,{modelValue:s.form.level,"onUpdate:modelValue":l[3]||(l[3]=e=>s.form.level=e),label:2,onClick:r.chooseHobbyLevelTwo},{default:(0,a.w5)((()=>[yt])),_:1},8,["modelValue","onClick"])])),_:1}),(0,a.Wm)(_,{label:"Top Hobby Name"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{disabled:!this.isSecondLevel,modelValue:s.form.tophobbyname,"onUpdate:modelValue":l[4]||(l[4]=e=>s.form.tophobbyname=e)},null,8,["disabled","modelValue"])])),_:1}),(0,a.Wm)(_,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"primary",onClick:r.onSubmit},{default:(0,a.w5)((()=>[wt])),_:1},8,["onClick"]),(0,a.Wm)(n,{onClick:l[5]||(l[5]=e=>s.dialogHobbyVisible=!1)},{default:(0,a.w5)((()=>[vt])),_:1})])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue","title"])])}var kt={name:"HobbyControllerView",components:{Plus:Ol.Z},data(){return{serverIp:Q,form:{},dialogHobbyTitle:"Create new hobby",dialogHobbyVisible:!1,isSecondLevel:!1,version:Math.random(),query:"",total:0,currentPage:1,pageSize:10,pageNum:10,search:"",tableData:[],img:null,user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,uploadHeaders:{}}},created(){this.load(),this.uploadHeaders.token=this.user.token},methods:{onSubmit(){this.form.id?(console.log("update"),ee.put("/hobby",this.form).then((e=>{console.log(e),"200"===e.code?this.$message({type:"success",message:"Successfully update user"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogHobbyVisible=!1}))):(console.log("create"),1!==this.form.level&&2!==this.form.level&&(this.form.level=1),console.log(this.form),ee.post("/hobby/create",this.form).then((e=>{console.log(e),"200"===e.code?this.$message({type:"success",message:"Successfully add hobby"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogHobbyVisible=!1})))},chooseHobbyLevelOne(){this.isSecondLevel=!1,this.form.level=1,console.log(this.isSecondLevel)},chooseHobbyLevelTwo(){this.isSecondLevel=!0,this.form.level=2,console.log(this.isSecondLevel)},handleLicensePreview(e){const l=e.size/1024/1024<2;l||this.$message.error("Avatar picture size can not exceed 2MB!")},handleAvatarSuccess(e){this.form.icon=e,this.img=e,this.load(),this.$message({type:"success",message:"Successfully upload file"})},beforeLicenseUpload(e){return"image/jpeg"!==e.type&&"image/png"!==e.type&&"image/jpg"!==e.type?(this.$message({type:"error",message:"Avatar picture must be JPG format!"}),!1):!(e.size/1024/1024>2)||(this.$message({type:"error",message:"Avatar picture size can not exceed 2MB!"}),!1)},refreshUser(){this.user=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}},load(){this.refreshUser(),ee.get("/hobby/page",{params:{pageNum:this.currentPage,pageSize:this.pageSize,query:this.query}}).then((e=>{console.log(e),this.tableData=e.data.records,this.total=e.data.total}))},addHobby(){this.form={},this.img=null,this.dialogHobbyVisible=!0,this.fileForm={},this.dialogHobbyTitle="New Hobby"},handleDelete(e){ee["delete"]("/hobby/"+e).then((e=>{"200"===e.code?this.$message({type:"success",message:"successfully delete"}):this.$message({type:"error",message:e.msg}),this.load()}))},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.img=this.form.icon,this.dialogHobbyVisible=!0,this.dialogHobbyTitle="Update Hobby"},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.currentPage=e,this.load()}}};const Ct=(0,_.Z)(kt,[["render",Wt],["__scopeId","data-v-c135f150"]]);var St=Ct,Vt=t.p+"img/logo.0f0a84de.png";const Ut=e=>((0,a.dD)("data-v-625c7a47"),e=e(),(0,a.Cn)(),e),It={style:{width:"100%",height:"120vh",overflow:"hidden"}},Dt=Ut((()=>(0,a._)("div",{class:"logo_and_title"},[(0,a._)("table",null,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("img",{src:Vt,alt:"logo"})]),(0,a._)("td",null,[(0,a._)("h1",null,"Wisdom Connect")])])])],-1))),xt={class:"signup_container"},Pt={class:"signup_form"},Ft=Ut((()=>(0,a._)("div",{class:"signup_form_header"},[(0,a._)("p",null,"Enter Nursing Home Information")],-1))),$t={class:"signup_facility_name"},zt=Ut((()=>(0,a._)("td",null,[(0,a._)("p",null,"Name")],-1))),Ot={class:"signup_facility_password"},Lt=Ut((()=>(0,a._)("td",null,[(0,a._)("p",null,"Password")],-1))),Ht={class:"signup_facility_address"},Nt=Ut((()=>(0,a._)("td",null,[(0,a._)("p",null,"Address")],-1))),At={class:"signup_facility_abn"},Tt=Ut((()=>(0,a._)("td",null,[(0,a._)("p",null,"ABN")],-1))),Rt=Ut((()=>(0,a._)("div",{class:"signup_form_header"},[(0,a._)("p",null,"Enter Fastcode")],-1))),qt={class:"signup_facility_fastcode",style:{"margin-bottom":"50px"}},Jt=Ut((()=>(0,a._)("td",null,[(0,a._)("p",null,"Email")],-1))),Zt=Ut((()=>(0,a._)("td",null,[(0,a._)("p",null,"Fastcode")],-1))),Et=Ut((()=>(0,a._)("hr",null,null,-1))),Mt={class:"signup_create"},Bt=(0,a.Uk)("Sign up");function jt(e,l,t,o,s,r){const n=(0,a.up)("el-input"),d=(0,a.up)("el-form-item"),m=(0,a.up)("el-button"),u=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)("div",It,[Dt,(0,a._)("div",xt,[(0,a._)("div",Pt,[Ft,(0,a.Wm)(u,{model:s.ruleForm,rules:s.rules,ref:"ruleForm",class:"demo-ruleForm"},{default:(0,a.w5)((()=>[(0,a._)("div",$t,[(0,a._)("table",null,[(0,a._)("tr",null,[zt,(0,a._)("td",null,[(0,a.Wm)(d,{prop:"name"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:s.ruleForm.name,"onUpdate:modelValue":l[0]||(l[0]=e=>s.ruleForm.name=e)},null,8,["modelValue"])])),_:1})])])])]),(0,a._)("div",Ot,[(0,a._)("table",null,[(0,a._)("tr",null,[Lt,(0,a._)("td",null,[(0,a.Wm)(d,{prop:"password"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:s.ruleForm.password,"onUpdate:modelValue":l[1]||(l[1]=e=>s.ruleForm.password=e)},null,8,["modelValue"])])),_:1})])])])]),(0,a._)("div",Ht,[(0,a._)("table",null,[(0,a._)("tr",null,[Nt,(0,a._)("td",null,[(0,a.Wm)(d,{prop:"address"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:s.ruleForm.address,"onUpdate:modelValue":l[2]||(l[2]=e=>s.ruleForm.address=e)},null,8,["modelValue"])])),_:1})])])])]),(0,a._)("div",At,[(0,a._)("table",null,[(0,a._)("tr",null,[Tt,(0,a._)("td",null,[(0,a.Wm)(d,{prop:"abn"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:s.ruleForm.abn,"onUpdate:modelValue":l[3]||(l[3]=e=>s.ruleForm.abn=e)},null,8,["modelValue"])])),_:1})])])])]),Rt,(0,a._)("div",qt,[(0,a._)("table",null,[(0,a._)("tr",null,[Jt,(0,a._)("td",null,[(0,a.Wm)(d,{prop:"email"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:s.ruleForm.email,"onUpdate:modelValue":l[4]||(l[4]=e=>s.ruleForm.email=e)},null,8,["modelValue"])])),_:1})]),(0,a._)("td",null,[(0,a.Wm)(d,{prop:"email"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{type:"primary",onClick:r.applyFastCode},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(s.status),1)])),_:1},8,["onClick"])])),_:1})])]),(0,a._)("tr",null,[Zt,(0,a._)("td",null,[(0,a.Wm)(d,{prop:"fastcode"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:s.ruleForm.fastcode,"onUpdate:modelValue":l[5]||(l[5]=e=>s.ruleForm.fastcode=e)},null,8,["modelValue"])])),_:1})])])])]),Et,(0,a._)("div",Mt,[(0,a.Wm)(m,{type:"primary",onClick:r.submit,class:"signup_create"},{default:(0,a.w5)((()=>[Bt])),_:1},8,["onClick"])])])),_:1},8,["model","rules"])])])])}var Gt={name:"FacilitySignup",data(){return{ruleForm:{name:"",password:"",address:"",abn:"",email:"",fastcode:""},fastCodeFrom:{},Form:{},status:"send code",img:null,user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,rules:{name:[{required:!0,message:"please input the username",trigger:"blur"}],password:[{required:!0,message:"please input the password",trigger:"blur"},{min:3,max:8,message:"valid password length should be 3 to 8",trigger:"blur"}],address:[{required:!0,message:"please input the address",trigger:"blur"}],abn:[{required:!0,message:"please input the abn",trigger:"blur"}],email:[{required:"true",message:"please input email",trigger:"blur"},{type:"email",message:"please input in correct email format",trigger:"blur"}]}}},methods:{applyFastCode(){this.status="processing",setTimeout((()=>{this.status="send code"}),5e3),this.fastCodeFrom.name=this.ruleForm.name,this.fastCodeFrom.email=this.ruleForm.email,this.fastCodeFrom.address=this.ruleForm.address,this.fastCodeFrom.abn=this.ruleForm.abn,this.fastCodeFrom.role="facility",ee.post("/fastcode/create",this.fastCodeFrom).then((e=>{console.log(e),"200"===e.code?this.$message({type:"success",message:"Successfully Apply user fast code"}):this.$message({type:"error",message:e.msg})}))},submit(){console.log("create"),this.Form.username=this.ruleForm.name,this.Form.password=this.ruleForm.password,this.Form.email=this.ruleForm.email,this.Form.address=this.ruleForm.address,this.Form.abn=this.ruleForm.abn,this.Form.role="facility",this.Form.code=this.ruleForm.fastcode,console.log(this.Form),ee.post("/user/register",this.Form).then((e=>{console.log(e),"200"===e.code?(this.$message({type:"success",message:"Successfully add user"}),this.$router.push("/profilelogin")):this.$message({type:"error",message:e.msg})}))}}};const Yt=(0,_.Z)(Gt,[["render",jt],["__scopeId","data-v-625c7a47"]]);var Kt=Yt;const Qt=e=>((0,a.dD)("data-v-84386a50"),e=e(),(0,a.Cn)(),e),Xt={style:{width:"100%",height:"100vh",overflow:"hidden"}},eo={class:"login_container"},lo={class:"login_form"},to=Qt((()=>(0,a._)("div",{class:"login_form_header"},[(0,a._)("p",null,"Welcome to Wisdom Connect!")],-1))),oo={class:"login_facility_confirm"},ao=(0,a.Uk)("Facility Login"),so=Qt((()=>(0,a._)("hr",null,null,-1))),io=Qt((()=>(0,a._)("p",null,"Forgotten account?",-1))),ro=[io];function no(e,l,t,o,s,i){const r=(0,a.up)("wisdom-header"),n=(0,a.up)("el-input"),d=(0,a.up)("el-form-itme"),m=(0,a.up)("el-form"),u=(0,a.up)("el-button");return(0,a.wg)(),(0,a.iD)("div",Xt,[(0,a.Wm)(r),(0,a._)("div",eo,[(0,a._)("div",lo,[to,(0,a.Wm)(m,{ref:"form",model:s.loginForm,size:"large",rules:s.rules,style:{width:"80%","margin-top":"40px","margin-left":"50px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{prop:"username",class:"login_account"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:s.loginForm.username,"onUpdate:modelValue":l[0]||(l[0]=e=>s.loginForm.username=e),placeholder:"Username",style:{"margin-bottom":"10px"}},null,8,["modelValue"])])),_:1}),(0,a.Wm)(d,{prop:"password",class:"login_password"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:s.loginForm.password,"onUpdate:modelValue":l[1]||(l[1]=e=>s.loginForm.password=e),"show-password":"",placeholder:"Password"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"]),(0,a._)("div",oo,[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{id:"login_btn",type:"primary",onClick:i.login},{default:(0,a.w5)((()=>[ao])),_:1},8,["onClick"])])),_:1}),so,(0,a._)("div",{id:"hint_text",onClick:l[2]||(l[2]=l=>e.$router.push("/resetpassword"))},ro)])])])])}const mo=e=>((0,a.dD)("data-v-5c78c35b"),e=e(),(0,a.Cn)(),e),uo={class:"logo_and_title"},co=mo((()=>(0,a._)("table",{class:"t1"},[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("img",{src:Vt,alt:"logo"})]),(0,a._)("td",null,[(0,a._)("h1",null,"Wisdom Connect")])])],-1))),po=[co];function ho(e,l){return(0,a.wg)(),(0,a.iD)("div",uo,po)}const go={},fo=(0,_.Z)(go,[["render",ho],["__scopeId","data-v-5c78c35b"]]);var bo=fo,_o={name:"FacilityLoginView",components:{Money:D.Z,MapLocation:x.Z,LocationFilled:P.Z,Document:F.Z,Setting:z.Z,Lock:j.Z,User:G.Z,WisdomHeader:bo},data(){return{loginForm:{},rules:{username:[{required:!0,message:"please input username",trigger:"blur"}],password:[{required:!0,message:"please input password",trigger:"blur"}]}}},methods:{login(){console.log("login"),ee.post("/user/login",this.loginForm).then((e=>{console.log(e),"200"===e.code?(localStorage.setItem("user",JSON.stringify(e.data)),this.$message({type:"success",message:"Successfully login"}),this.$router.push("/profilelogin")):this.$message({type:"error",message:e.msg})}))},signup(){this.$router.push("/facilitysignup")}}};const yo=(0,_.Z)(_o,[["render",no],["__scopeId","data-v-84386a50"]]);var wo=yo;const vo=e=>((0,a.dD)("data-v-5353476e"),e=e(),(0,a.Cn)(),e),Wo=vo((()=>(0,a._)("head",null,[(0,a._)("meta",{charset:"UTF-8"}),(0,a._)("title",null,"Reset Password")],-1))),ko=vo((()=>(0,a._)("div",{class:"logo_and_title"},[(0,a._)("table",null,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("img",{src:Vt,alt:"logo"})]),(0,a._)("td",null,[(0,a._)("h1",null,"Wisdom Connect")])])])],-1))),Co={class:"reset_password_container"},So={class:"reset_password_form"},Vo=(0,a.uE)('<div class="reset_password_header" data-v-5353476e><p data-v-5353476e>Reset Password</p></div><div class="reset_password_account" style="margin-bottom:10px;" data-v-5353476e><input type="input" placeholder="Username/Email/Phone Number" id="input1" data-v-5353476e></div><div class="reset_password_password" style="margin-bottom:10px;" data-v-5353476e><input type="password" placeholder="New Password" id="input2" data-v-5353476e></div><div class="reset_password_confirm_password" data-v-5353476e><input type="password" placeholder="Confirm Password" id="input3" data-v-5353476e></div>',4),Uo={class:"reset_password_confirm"};function Io(e,l,t,o,s,i){return(0,a.wg)(),(0,a.iD)(a.HY,null,[Wo,(0,a._)("body",null,[ko,(0,a._)("div",Co,[(0,a._)("div",So,[Vo,(0,a._)("div",Uo,[(0,a._)("button",{id:"login_btn",onClick:l[0]||(l[0]=l=>e.$router.push("/profilelogin"))}," Facility Login")])])])])],64)}var Do={name:"ResetPassword"};const xo=(0,_.Z)(Do,[["render",Io],["__scopeId","data-v-5353476e"]]);var Po=xo,Fo=t.p+"img/back_icon.bdcb3d21.png";const $o=e=>((0,a.dD)("data-v-04935400"),e=e(),(0,a.Cn)(),e),zo={style:{width:"100%",height:"120vh",overflow:"hidden"}},Oo=$o((()=>(0,a._)("div",{class:"logo_and_title"},[(0,a._)("table",null,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("img",{src:Vt,alt:"logo"})]),(0,a._)("td",null,[(0,a._)("h1",null,"Wisdom Connect")])])])],-1))),Lo={class:"blockedlist_container"},Ho={class:"blockedlist_form"},No={class:"blockedlist_form_header"},Ao={class:"=blockedlist_form_header_table"},To=$o((()=>(0,a._)("img",{src:Fo,style:{height:"30px"},alt:"back_icon"},null,-1))),Ro=[To],qo=$o((()=>(0,a._)("td",null,[(0,a._)("p",null,"Your Blocked List")],-1))),Jo=$o((()=>(0,a._)("hr",null,null,-1))),Zo=$o((()=>(0,a._)("div",{class:"blockedlist_display_header"},[(0,a._)("p",null,"These people will not show up in your call list")],-1))),Eo={class:"blockedlist_display_container"},Mo={class:"myprofile_display_content"},Bo=["src"];function jo(e,l,t,o,s,r){return(0,a.wg)(),(0,a.iD)("div",zo,[Oo,(0,a._)("div",Lo,[(0,a._)("div",Ho,[(0,a._)("div",No,[(0,a._)("table",Ao,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("div",{class:"back_button",onClick:l[0]||(l[0]=l=>e.$router.push("/personal"))},Ro)]),qo])])]),Jo,Zo,(0,a._)("div",Eo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.blockTableData,(e=>((0,a.wg)(),(0,a.iD)("div",Mo,[(0,a._)("table",null,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("img",{src:e.url},null,8,Bo)]),(0,a._)("td",null,[(0,a._)("p",null,(0,i.zw)(e.username),1)])])])])))),256))])])])])}var Go={name:"BlockedList",data(){return{blockTableData:[],profile:localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):null}},created(){this.load()},methods:{refreshProfile(){this.profile=localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):{},this.privacy=this.profile.privacy},load(){this.getAllBlock()},getAllBlock(){ee.get("/profile/blockList",{params:{profileID:this.profile.id}}).then((e=>{console.log(e),this.blockTableData=e.data}))}}};const Yo=(0,_.Z)(Go,[["render",jo],["__scopeId","data-v-04935400"]]);var Ko=Yo;const Qo=e=>((0,a.dD)("data-v-1e78cc31"),e=e(),(0,a.Cn)(),e),Xo={style:{width:"100%",height:"120vh",overflow:"hidden"}},ea=Qo((()=>(0,a._)("div",{class:"logo_and_title"},[(0,a._)("table",null,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("img",{src:Vt,alt:"logo"})]),(0,a._)("td",null,[(0,a._)("h1",null,"Wisdom Connect")])])])],-1))),la={class:"interests_container"},ta={class:"interests_form"},oa={class:"interests_form_header"},aa={class:"interests_form_header_table"},sa=Qo((()=>(0,a._)("img",{src:Fo,style:{height:"30px"},alt:"back_icon"},null,-1))),ia=[sa],ra=Qo((()=>(0,a._)("td",null,[(0,a._)("p",null,"Your Interest List")],-1))),na=Qo((()=>(0,a._)("hr",null,null,-1))),da={class:"interests_display_container"},ma={class:"interests_display_content"},ua={class:"interests_display_content_img"},ca=["src"],pa={class:"interests_buttons"};function ha(e,l,t,o,s,r){return(0,a.wg)(),(0,a.iD)("div",Xo,[ea,(0,a._)("div",la,[(0,a._)("div",ta,[(0,a._)("div",oa,[(0,a._)("table",aa,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("div",{class:"back_button",onClick:l[0]||(l[0]=l=>e.$router.push("/personal"))},ia)]),ra])])]),na,(0,a._)("div",da,[(0,a._)("div",ma,[(0,a._)("table",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.sliceList(s.hobbyTableData,3),((e,l)=>((0,a.wg)(),(0,a.iD)("tr",{key:l},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,((e,l)=>((0,a.wg)(),(0,a.iD)("td",{key:l},[(0,a._)("div",ua,[(0,a._)("img",{src:e.icon},null,8,ca)]),(0,a._)("p",null,(0,i.zw)(e.name),1)])))),128))])))),128))])])]),(0,a._)("div",pa,[(0,a._)("table",null,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("button",{id:"remove_btn",onClick:l[1]||(l[1]=l=>e.$router.push("/interestlistremove"))}," Remove ")]),(0,a._)("td",null,[(0,a._)("button",{id:"more_btn",onClick:l[2]||(l[2]=l=>e.$router.push("/moreinterest"))}," More ")])])])])])])])}var ga={name:"InterestListRemove",data(){return{form:{},query:"",search:"",hobbyTableData:[],profile:localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):null}},computed:{sliceList(){return function(e,l){if(void 0!=e){let t=0,o=[];for(let a=0;a<e.length;a++)t=parseInt(a/l),o.length<=t&&o.push([]),o[t].push(e[a]);return o}}}},created(){this.load(),console.log(this.profile)},methods:{refreshProfile(){this.profile=localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):{},this.privacy=this.profile.privacy},load(){this.refreshProfile(),this.getAllHobbies()},getAllHobbies(){ee.get("/hobby/hobbyList",{params:{profileID:this.profile.id}}).then((e=>{console.log(e),this.hobbyTableData=e.data}))}}};const fa=(0,_.Z)(ga,[["render",ha],["__scopeId","data-v-1e78cc31"]]);var ba=fa;const _a=e=>((0,a.dD)("data-v-c5d24218"),e=e(),(0,a.Cn)(),e),ya={style:{width:"100%",height:"120vh",overflow:"hidden"}},wa=_a((()=>(0,a._)("div",{class:"logo_and_title"},[(0,a._)("table",null,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("img",{src:Vt,alt:"logo"})]),(0,a._)("td",null,[(0,a._)("h1",null,"Wisdom Connect")])])])],-1))),va={class:"interests_container"},Wa={class:"interests_form"},ka={class:"interests_form_header"},Ca={class:"interests_form_header_table"},Sa=_a((()=>(0,a._)("img",{src:Fo,style:{height:"30px"},alt:"back_icon"},null,-1))),Va=[Sa],Ua=_a((()=>(0,a._)("td",null,[(0,a._)("p",null,"Your Interest List")],-1))),Ia=_a((()=>(0,a._)("hr",null,null,-1))),Da=_a((()=>(0,a._)("div",{class:"interests_display_header"},[(0,a._)("p",null,"Click to remove from list")],-1))),xa={class:"interests_display_container"},Pa={class:"interests_display_content"},Fa={class:"interests_display_content_img"},$a=["src"],za=["onClick"];function Oa(e,l,t,o,s,r){return(0,a.wg)(),(0,a.iD)("div",ya,[wa,(0,a._)("div",va,[(0,a._)("div",Wa,[(0,a._)("div",ka,[(0,a._)("table",Ca,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("div",{class:"back_button",onClick:l[0]||(l[0]=l=>e.$router.push("/personal"))},Va)]),Ua])])]),Ia,Da,(0,a._)("div",xa,[(0,a._)("div",Pa,[(0,a._)("table",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.sliceList(s.hobbyTableData,3),((e,l)=>((0,a.wg)(),(0,a.iD)("tr",{key:l},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,((e,l)=>((0,a.wg)(),(0,a.iD)("td",{key:l},[(0,a._)("div",Fa,[(0,a._)("img",{src:e.icon},null,8,$a),(0,a._)("button",{id:"delete_interest_btn",onClick:l=>r.deleteHobby(e.id)},null,8,za)]),(0,a._)("p",null,(0,i.zw)(e.name),1)])))),128))])))),128))])])])])])])}var La={name:"InterestList",data(){return{form:{},query:"",search:"",hobbyTableData:[],profile:localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):null}},computed:{sliceList(){return function(e,l){if(void 0!=e){let t=0,o=[];for(let a=0;a<e.length;a++)t=parseInt(a/l),o.length<=t&&o.push([]),o[t].push(e[a]);return o}}}},created(){this.load(),console.log(this.profile)},methods:{refreshProfile(){this.profile=localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):{},this.privacy=this.profile.privacy},load(){this.refreshProfile(),this.getAllHobbies(),this.getRandomHobbies()},getAllHobbies(){ee.get("/hobby/hobbyList",{params:{profileID:this.profile.id}}).then((e=>{console.log(e),this.hobbyTableData=e.data}))},getRandomHobbies(){ee.get("/hobby/randomHobbies",{params:{profileID:this.profile.id}}).then((e=>{console.log(e),this.randomHobbyTableData=e.data}))},deleteHobby(e){let l;l={},l.profileID=this.profile.id,l.targetID=e,ee["delete"]("/hobby/hobbyDelete",{data:l}).then((e=>{"200"===e.code?(this.$message({type:"success",message:"successfully delete hobby"}),this.load()):this.$message({type:"error",message:e.msg})}))}}};const Ha=(0,_.Z)(La,[["render",Oa],["__scopeId","data-v-c5d24218"]]);var Na=Ha;const Aa=e=>((0,a.dD)("data-v-5887d8ae"),e=e(),(0,a.Cn)(),e),Ta={class:"addprofiles_container"},Ra={class:"addprofiles_form"},qa=Aa((()=>(0,a._)("div",{class:"addprofiles_form_title"},[(0,a._)("p",null,"Personal Info")],-1))),Ja=["src"],Za=(0,a.Uk)("hide"),Ea=(0,a.Uk)("open"),Ma=(0,a.Uk)("Male"),Ba=(0,a.Uk)("Female"),ja=(0,a.Uk)("Secret"),Ga=(0,a.Uk)("Apply"),Ya=(0,a.Uk)("Cancel");function Ka(e,l,t,o,s,i){const r=(0,a.up)("wisdom-header"),n=(0,a.up)("Plus"),d=(0,a.up)("el-icon"),m=(0,a.up)("el-upload"),u=(0,a.up)("el-form-item"),c=(0,a.up)("el-input"),p=(0,a.up)("el-radio"),h=(0,a.up)("el-radio-group"),g=(0,a.up)("el-button"),f=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r),(0,a._)("div",Ta,[(0,a._)("div",Ra,[qa,(0,a.Wm)(f,{modelValue:s.form,"onUpdate:modelValue":l[5]||(l[5]=e=>s.form=e),"label-width":"80px",style:{"margin-left":"30px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{label:"Upload Profile Icon"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{class:"avatar-uploader",action:"http://"+s.serverIp+"/file/upload","show-file-list":!1,"on-change":i.handleLicensePreview,"before-upload":i.beforeLicenseUpload,"on-success":i.handleAvatarSuccess,headers:s.uploadHeaders},{default:(0,a.w5)((()=>[null!=this.img?((0,a.wg)(),(0,a.iD)("img",{key:0,src:this.img,class:"avatar"},null,8,Ja)):((0,a.wg)(),(0,a.j4)(d,{key:1,class:"avatar-uploader-icon"},{default:(0,a.w5)((()=>[(0,a.Wm)(n)])),_:1}))])),_:1},8,["action","on-change","before-upload","on-success","headers"])])),_:1}),(0,a.Wm)(u,{label:"Profile Name"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{modelValue:s.form.username,"onUpdate:modelValue":l[0]||(l[0]=e=>s.form.username=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(u,{label:"Privacy"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:s.form.privacy,"onUpdate:modelValue":l[1]||(l[1]=e=>s.form.privacy=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{label:1},{default:(0,a.w5)((()=>[Za])),_:1}),(0,a.Wm)(p,{label:0},{default:(0,a.w5)((()=>[Ea])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(u,{label:"Age"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{modelValue:s.form.age,"onUpdate:modelValue":l[2]||(l[2]=e=>s.form.age=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(u,{label:"Gender"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:s.form.gender,"onUpdate:modelValue":l[3]||(l[3]=e=>s.form.gender=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{label:"male"},{default:(0,a.w5)((()=>[Ma])),_:1}),(0,a.Wm)(p,{label:"female"},{default:(0,a.w5)((()=>[Ba])),_:1}),(0,a.Wm)(p,{label:"secret"},{default:(0,a.w5)((()=>[ja])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(g,{type:"primary",onClick:i.onSubmit,class:"form-button"},{default:(0,a.w5)((()=>[Ga])),_:1},8,["onClick"])])])),_:1}),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(g,{onClick:l[4]||(l[4]=l=>e.$router.push("/profilelogin")),class:"form-button"},{default:(0,a.w5)((()=>[Ya])),_:1})])])),_:1})])),_:1},8,["modelValue"])])])],64)}var Qa={name:"NewProfile",components:{WisdomHeader:bo,Plus:Ol.Z},data(){return{serverIp:Q,form:{},img:null,uploadHeaders:{},rules:{username:[{required:!0,message:"please input username",trigger:"blur"}]},user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,userinfo:null}},created(){this.uploadHeaders.token=this.user.token,console.log("profile")},methods:{onSubmit(){this.form.id?(console.log("update"),ee.put("/profile",this.form).then((e=>{console.log(e),"200"===e.code?this.$message({type:"success",message:"Successfully update user"}):this.$message({type:"error",message:e.msg}),this.$router.push("/profilelogin")}))):(console.log("create"),console.log(this.form),1!==this.form.level&&2!==this.form.level&&(this.form.level=1),console.log(this.form),ee.post("/profile/create",this.form).then((e=>{console.log(e),"200"===e.code?this.$message({type:"success",message:"Successfully add hobby"}):this.$message({type:"error",message:e.msg}),this.$router.push("/profilelogin")})))},handleLicensePreview(e){const l=e.size/1024/1024<2;l||this.$message.error("Avatar picture size can not exceed 2MB!")},handleAvatarSuccess(e){this.form.icon=e,this.img=e,console.log(this.img),this.load(),this.$message({type:"success",message:"Successfully upload file"})},beforeLicenseUpload(e){return"image/jpeg"!==e.type&&"image/png"!==e.type&&"image/jpg"!==e.type?(this.$message({type:"error",message:"Avatar picture must be JPG format!"}),!1):!(e.size/1024/1024>2)||(this.$message({type:"error",message:"Avatar picture size can not exceed 2MB!"}),!1)},refreshUser(){this.user=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}},load(){this.refreshUser(),ee.get("/hobby/page",{params:{pageNum:this.currentPage,pageSize:this.pageSize,query:this.query}}).then((e=>{console.log(e.data),this.userinfo=e.data.records}))},AddProfile(){console.log("create"),ee.post("profile",this.form).then((e=>{console.log(e),"200"===e.code?(this.$message({type:"success",message:"Successfully add profile"}),this.$router.push("/profilelogin")):this.$message({type:"error",message:e.msg})}))}}};const Xa=(0,_.Z)(Qa,[["render",Ka],["__scopeId","data-v-5887d8ae"]]);var es=Xa;const ls=e=>((0,a.dD)("data-v-e1542b32"),e=e(),(0,a.Cn)(),e),ts={style:{width:"100%",height:"120vh",overflow:"hidden"}},os=ls((()=>(0,a._)("div",{class:"logo_and_title"},[(0,a._)("table",null,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("img",{src:Vt,alt:"logo"})]),(0,a._)("td",null,[(0,a._)("h1",null,"Wisdom Connect")])])])],-1))),as={class:"interests_container"},ss={class:"interests_form"},is={class:"interests_form_header"},rs={class:"interests_form_header_table"},ns=ls((()=>(0,a._)("img",{src:Fo,style:{height:"30px"},alt:"back_icon"},null,-1))),ds=[ns],ms=ls((()=>(0,a._)("td",null,[(0,a._)("p",null,"Your Interest List")],-1))),us=ls((()=>(0,a._)("hr",null,null,-1))),cs=ls((()=>(0,a._)("div",{class:"interests_display_header"},[(0,a._)("p",null,"Click to add in your list")],-1))),ps={class:"interests_display_container"},hs={class:"interests_display_content"},gs={class:"interests_display_content_img"},fs=["src"],bs=["onClick"];function _s(e,l,t,o,s,r){return(0,a.wg)(),(0,a.iD)("div",ts,[os,(0,a._)("div",as,[(0,a._)("div",ss,[(0,a._)("div",is,[(0,a._)("table",rs,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("div",{class:"back_button",onClick:l[0]||(l[0]=l=>e.$router.push("/personal"))},ds)]),ms])])]),us,cs,(0,a._)("div",ps,[(0,a._)("div",hs,[(0,a._)("table",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.sliceList(s.randomHobbyTableData,3),((e,l)=>((0,a.wg)(),(0,a.iD)("tr",{key:l},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,((e,l)=>((0,a.wg)(),(0,a.iD)("td",{key:l},[(0,a._)("div",gs,[(0,a._)("img",{src:e.icon},null,8,fs),(0,a._)("button",{id:"delete_interest_btn",onClick:l=>r.addHobby(e.id)},null,8,bs)]),(0,a._)("p",null,(0,i.zw)(e.name),1)])))),128))])))),128))])])])])])])}var ys={name:"MoreInterest",data(){return{form:{},query:"",search:"",randomHobbyTableData:[],profile:localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):null}},computed:{sliceList(){return function(e,l){if(void 0!=e){let t=0,o=[];for(let a=0;a<e.length;a++)t=parseInt(a/l),o.length<=t&&o.push([]),o[t].push(e[a]);return o}}}},created(){this.load(),console.log(this.profile)},methods:{refreshProfile(){this.profile=localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):{},this.privacy=this.profile.privacy},load(){this.refreshProfile(),this.getRandomHobbies()},getRandomHobbies(){ee.get("/hobby/randomHobbies",{params:{profileID:this.profile.id}}).then((e=>{console.log(e),this.randomHobbyTableData=e.data}))},addHobby(e){let l;l={},l.profileID=this.profile.id,l.targetID=e,ee.post("/hobby/addHobby",l).then((e=>{"200"===e.code?(this.$message({type:"success",message:"successfully add hobby"}),this.load()):this.$message({type:"error",message:e.msg})}))}},components:{WisdomHeader:bo}};const ws=(0,_.Z)(ys,[["render",_s],["__scopeId","data-v-e1542b32"]]);var vs=ws;const Ws=e=>((0,a.dD)("data-v-cd116296"),e=e(),(0,a.Cn)(),e),ks={style:{width:"100%",height:"120vh",overflow:"hidden"}},Cs=Ws((()=>(0,a._)("div",{class:"logo_and_title"},[(0,a._)("table",null,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("img",{src:Vt,alt:"logo"})]),(0,a._)("td",null,[(0,a._)("h1",null,"Wisdom Connect")])])])],-1))),Ss={class:"me_container"},Vs={class:"me_form"},Us={class:"me_form_header"},Is=Ws((()=>(0,a._)("p",null,"Me",-1))),Ds=Ws((()=>(0,a._)("img",{src:Fo,style:{height:"30px"},alt:"back_icon"},null,-1))),xs=[Ds],Ps=Ws((()=>(0,a._)("hr",null,null,-1))),Fs={class:"me_display_container"},$s=["src"],zs=Ws((()=>(0,a._)("p",null,"Interests",-1))),Os=[zs],Ls=Ws((()=>(0,a._)("p",null,"Blocked Lists",-1))),Hs=[Ls],Ns=Ws((()=>(0,a._)("p",null,"Logout",-1))),As=[Ns];function Ts(e,l,t,o,s,r){return(0,a.wg)(),(0,a.iD)("div",ks,[Cs,(0,a._)("div",Ss,[(0,a._)("div",Vs,[(0,a._)("div",Us,[Is,(0,a._)("td",null,[(0,a._)("div",{class:"back_button",onClick:l[0]||(l[0]=l=>e.$router.push("/taponfriend"))},xs)])]),Ps,(0,a._)("div",Fs,[(0,a._)("div",{class:"me_profile",onClick:l[1]||(l[1]=l=>e.$router.push("/personalchange"))},[(0,a._)("table",null,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("img",{src:s.profile.icon},null,8,$s)]),(0,a._)("td",null,[(0,a._)("p",null,(0,i.zw)(s.profile.username),1)])])])]),(0,a._)("div",{class:"me_display_content",onClick:l[2]||(l[2]=l=>e.$router.push("/interestlist"))},Os),(0,a._)("div",{class:"me_display_content",onClick:l[3]||(l[3]=l=>e.$router.push("/blockedlist"))},Hs),(0,a._)("div",{class:"me_display_content_logout",onClick:l[4]||(l[4]=e=>r.logout())},As)])])])])}var Rs={name:"Personal",data(){return{profile:localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):null}},created(){this.load()},methods:{refreshProfile(){this.profile=localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):{},console.log(this.profile),this.privacy=this.profile.privacy},load(){this.refreshProfile()},cleanLocalStorage(){localStorage.clear()},logout(){this.cleanLocalStorage(),this.$router.push("/facilitylogin")}}};const qs=(0,_.Z)(Rs,[["render",Ts],["__scopeId","data-v-cd116296"]]);var Js=qs;const Zs=e=>((0,a.dD)("data-v-261ca277"),e=e(),(0,a.Cn)(),e),Es={class:"addprofiles_container"},Ms={class:"addprofiles_form"},Bs=Zs((()=>(0,a._)("div",{class:"addprofiles_form_title"},[(0,a._)("p",null,"Personal Info Change")],-1))),js=["src"],Gs=(0,a.Uk)("hide"),Ys=(0,a.Uk)("open"),Ks=(0,a.Uk)("Male"),Qs=(0,a.Uk)("Female"),Xs=(0,a.Uk)("Secret"),ei=(0,a.Uk)("Change"),li=(0,a.Uk)("Cancel");function ti(e,l,t,o,s,i){const r=(0,a.up)("WisdomHeader"),n=(0,a.up)("el-upload"),d=(0,a.up)("el-form-item"),m=(0,a.up)("el-input"),u=(0,a.up)("el-radio"),c=(0,a.up)("el-radio-group"),p=(0,a.up)("el-button"),h=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r),(0,a._)("div",Es,[(0,a._)("div",Ms,[Bs,(0,a.Wm)(h,{modelValue:e.form,"onUpdate:modelValue":l[5]||(l[5]=l=>e.form=l),"label-width":"80px",style:{"margin-left":"30px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{label:"Upload Profile Icon"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{class:"avatar-uploader",action:"http://"+s.serverIp+"/file/upload","show-file-list":!1,"on-change":i.handleLicensePreview,"before-upload":i.beforeLicenseUpload,"on-success":i.handleAvatarSuccess},{default:(0,a.w5)((()=>[null!=s.profile.icon?((0,a.wg)(),(0,a.iD)("img",{key:0,src:s.profile.icon,class:"avatar"},null,8,js)):(0,a.kq)("",!0)])),_:1},8,["action","on-change","before-upload","on-success"])])),_:1}),(0,a.Wm)(d,{label:"Profile Name"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{modelValue:s.profile.username,"onUpdate:modelValue":l[0]||(l[0]=e=>s.profile.username=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(d,{label:"Privacy"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{modelValue:s.profile.privacy,"onUpdate:modelValue":l[1]||(l[1]=e=>s.profile.privacy=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{label:1},{default:(0,a.w5)((()=>[Gs])),_:1}),(0,a.Wm)(u,{label:0},{default:(0,a.w5)((()=>[Ys])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(d,{label:"Age"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{modelValue:s.profile.age,"onUpdate:modelValue":l[2]||(l[2]=e=>s.profile.age=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(d,{label:"Gender"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{modelValue:s.profile.gender,"onUpdate:modelValue":l[3]||(l[3]=e=>s.profile.gender=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{label:"male"},{default:(0,a.w5)((()=>[Ks])),_:1}),(0,a.Wm)(u,{label:"female"},{default:(0,a.w5)((()=>[Qs])),_:1}),(0,a.Wm)(u,{label:"secret"},{default:(0,a.w5)((()=>[Xs])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(p,{type:"primary",onClick:i.onSubmit,class:"form-button"},{default:(0,a.w5)((()=>[ei])),_:1},8,["onClick"])])])),_:1}),(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(p,{onClick:l[4]||(l[4]=l=>e.$router.push("/personal")),class:"form-button"},{default:(0,a.w5)((()=>[li])),_:1})])])),_:1})])),_:1},8,["modelValue"])])])],64)}var oi={name:"PersonalChange",components:{WisdomHeader:bo,Plus:Ol.Z},data(){return{serverIp:Q,profile:{}}},created(){this.load()},methods:{refreshProfile(){this.profile=localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):{},console.log(this.profile)},load(){this.refreshProfile()},handleLicensePreview(e){const l=e.size/1024/1024<2;l||this.$message.error("Avatar picture size can not exceed 2MB!")},handleAvatarSuccess(e){this.form.icon=e,this.img=e,console.log(this.img),this.load(),this.$message({type:"success",message:"Successfully upload file"})},beforeLicenseUpload(e){return"image/jpeg"!==e.type&&"image/png"!==e.type&&"image/jpg"!==e.type?(this.$message({type:"error",message:"Avatar picture must be JPG format!"}),!1):!(e.size/1024/1024>2)||(this.$message({type:"error",message:"Avatar picture size can not exceed 2MB!"}),!1)},onSubmit(){console.log("mdmd"),console.log(this.profile),this.profile.id?(console.log("update"),ee.put("/profile",this.profile).then((e=>{"200"===e.code?(localStorage.setItem("profile",JSON.stringify(this.profile)),console.log(e),this.$message({type:"success",message:"Successfully update user"})):this.$message({type:"error",message:e.msg}),this.$router.push("/personal")}))):(console.log("create"),console.log(this.profile),1!==this.profile.level&&2!==this.profile.level&&(this.profile.level=1),console.log(this.profile),ee.post("/profile/create",this.profile).then((e=>{console.log(e),"200"===e.code?this.$message({type:"success",message:"Successfully add hobby"}):this.$message({type:"error",message:e.msg}),this.$router.push("/personal")})))}}};const ai=(0,_.Z)(oi,[["render",ti],["__scopeId","data-v-261ca277"]]);var si=ai;const ii=e=>((0,a.dD)("data-v-16d5f17a"),e=e(),(0,a.Cn)(),e),ri={style:{width:"100%",height:"120vh",overflow:"hidden"}},ni={class:"profiles_container"},di={class:"profiles_form"},mi=ii((()=>(0,a._)("div",{class:"profiles_form_header"},[(0,a._)("p",null,"Resident's Profiles")],-1))),ui={class:"profiles_display_container"},ci=["onClick"],pi=["src"],hi={class:"profiles_create"},gi={class:"profiles_logout"};function fi(e,l,t,o,s,r){const n=(0,a.up)("wisdom-header");return(0,a.wg)(),(0,a.iD)("div",ri,[(0,a.Wm)(n),(0,a._)("div",ni,[(0,a._)("div",di,[mi,(0,a._)("div",ui,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.userinfo,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"profiles_display_content",key:e.id,onClick:l=>r.next(e)},[(0,a._)("table",null,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("img",{src:e.icon},null,8,pi)]),(0,a._)("td",null,[(0,a._)("p",null,(0,i.zw)(e.username),1)])])])],8,ci)))),128))]),(0,a._)("div",hi,[(0,a._)("button",{id:"create_btn",onClick:l[0]||(l[0]=l=>e.$router.push("/newprofile"))},"Create a new profile")]),(0,a._)("div",gi,[(0,a._)("button",{id:"logout_btn",onClick:l[1]||(l[1]=e=>r.logout())},"Log out")])])])])}var bi={name:"ProfileLogin",components:{WisdomHeader:bo},data(){return{user:null,userinfo:null}},created(){this.load()},methods:{refreshUser(){this.user=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}},handleAccess(e){localStorage.setItem("profile",JSON.stringify(e)),this.$router.push({name:"ProfileDetailView",params:{profileId:this.form.id}})},next(e){localStorage.setItem("profile",JSON.stringify(e)),this.$router.push("/taponfriend")},load(){this.refreshUser(),ee.get("/profile/page",{params:{pageNum:this.currentPage,pageSize:this.pageSize,query:this.query}}).then((e=>{console.log(e),this.userinfo=e.data.records,console.log(e.data.records)}))},cleanLocalStorage(){localStorage.clear()},logout(){this.cleanLocalStorage(),this.$router.push("/facilitylogin")}}};const _i=(0,_.Z)(bi,[["render",fi],["__scopeId","data-v-16d5f17a"]]);var yi=_i,wi=t.p+"img/flower1.ee973e74.png";const vi=e=>((0,a.dD)("data-v-133542ef"),e=e(),(0,a.Cn)(),e),Wi={class:"content"},ki=vi((()=>(0,a._)("div",{class:"logo_and_title"},[(0,a._)("table",null,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("img",{src:Vt,alt:"logo"})]),(0,a._)("td",null,[(0,a._)("h1",null,"Wisdom Connect")])])])],-1))),Ci={class:"myprofile_container"},Si={class:"myprofile_form"},Vi={class:"myprofile_form_header",style:{margin:"30px auto"}},Ui=vi((()=>(0,a._)("hr",null,null,-1))),Ii={class:"myprofile_addfriend"},Di={class:"myprofile_display_container"},xi=vi((()=>(0,a._)("div",{class:"myprofile_talk_to_sb_new"},[(0,a._)("table",null,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("img",{src:wi})]),(0,a._)("td",null,[(0,a._)("p",null,"Talk to someone new")])])])],-1))),Pi=["onClick"],Fi=["src"],$i={class:"myprofile_display_content_status"},zi={key:0},Oi={key:1},Li={key:2},Hi={key:3},Ni={class:"myprofile_switch"},Ai={class:"dialog-footer"},Ti=(0,a.Uk)("Cancel"),Ri={class:"dialog-footer"},qi=(0,a.Uk)("Confirm"),Ji={class:"dialog-footer"},Zi=(0,a.Uk)("Accept"),Ei=(0,a.Uk)("Reject");function Mi(e,l,t,o,s,r){const n=(0,a.up)("el-button"),d=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",Wi,[ki,(0,a._)("div",Ci,[(0,a._)("div",Si,[(0,a._)("div",Vi,[(0,a._)("p",null,"Hi "+(0,i.zw)(s.username)+"!",1)]),Ui,(0,a._)("div",Ii,[(0,a._)("button",{style:{margin:"20px auto"},onClick:l[0]||(l[0]=e=>r.next())},"Add Firends")]),(0,a._)("div",Di,[xi,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.friendTableData,(e=>((0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["myprofile_display_content",{"select-border":s.selectedFriendId===e.id}]),key:e.id,onClick:l=>r.clickFriend(e)},[(0,a._)("table",null,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("img",{src:e.icon},null,8,Fi)]),(0,a._)("td",null,[(0,a._)("p",null,(0,i.zw)(e.username),1)]),(0,a._)("td",$i,[1===e.online?((0,a.wg)(),(0,a.iD)("p",zi,"online")):((0,a.wg)(),(0,a.iD)("p",Oi,"offline")),r.isAvailable(e)?((0,a.wg)(),(0,a.iD)("p",Li,"available")):((0,a.wg)(),(0,a.iD)("p",Hi,"unavailable"))])])])],10,Pi)))),128))]),(0,a._)("div",Ni,[(0,a._)("table",null,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("button",{id:"videocall_btn",onClick:l[1]||(l[1]=e=>r.getConferenceRoom(s.selectedFriendId))}," Make a Video Call ")]),(0,a._)("td",null,[(0,a._)("button",{id:"me_btn",onClick:l[2]||(l[2]=e=>r.routeTo("/personal"))},"Me")])])])])])])]),(0,a.Wm)(d,{title:"Waiting for response...",modelValue:s.centerDialogVisible1,"onUpdate:modelValue":l[3]||(l[3]=e=>s.centerDialogVisible1=e),width:"30%",center:""},{default:(0,a.w5)((()=>[(0,a._)("span",Ai,[(0,a.Wm)(n,{onClick:r.chatClose},{default:(0,a.w5)((()=>[Ti])),_:1},8,["onClick"])])])),_:1},8,["modelValue"]),(0,a.Wm)(d,{title:"Friend is unavailable",modelValue:s.centerDialogVisible2,"onUpdate:modelValue":l[5]||(l[5]=e=>s.centerDialogVisible2=e),width:"30%",center:""},{default:(0,a.w5)((()=>[(0,a._)("span",Ri,[(0,a.Wm)(n,{onClick:l[4]||(l[4]=e=>s.centerDialogVisible2=!1)},{default:(0,a.w5)((()=>[qi])),_:1})])])),_:1},8,["modelValue"]),(0,a.Wm)(d,{title:"Friend calling",modelValue:s.centerDialogVisible3,"onUpdate:modelValue":l[6]||(l[6]=e=>s.centerDialogVisible3=e),width:"30%",center:""},{default:(0,a.w5)((()=>[(0,a._)("span",Ji,[(0,a.Wm)(n,{onClick:r.chatAccept},{default:(0,a.w5)((()=>[Zi])),_:1},8,["onClick"]),(0,a.Wm)(n,{onClick:r.chatClose},{default:(0,a.w5)((()=>[Ei])),_:1},8,["onClick"])])])),_:1},8,["modelValue"])],64)}var Bi={name:"TapOnFriend",data(){return{centerDialogVisible1:!1,centerDialogVisible2:!1,centerDialogVisible3:!1,websocket:null,webSocketURL:"wss://ericbackend.azurewebsites.net/chat",oncall:!1,roomId:null,disableAccept:!1,state:"no call",username:null,friendTableData:[],profile:localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):null,selectedFriendId:null,user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,selectedUser:null,message:"",room:"",password:""}},computed:{},created(){console.log("build"),this.load(),this.username=this.profile.username,this.initialWebSocket(),this.releaseConferenceRoom(),this.resetOncall()},watch:{$route(e,l){this.websocket.close(),this.oncall&&this.chatClose()}},destroyed(){this.websocket.close(),this.oncall&&(console.log("des"),this.chatClose())},methods:{isAvailable(e){return console.log(e),0!==e.online&&0===e.oncall},releaseConferenceRoom(){let e;e={},e.profileID=this.profile.id,e.targetID=null,ee.post("/conference/releaseRoom",e).then((e=>{"200"===e.code?(this.conferenceRoom=null,this.conference=null,this.pin=null,this.$message({type:"success",message:"successfully release a room"})):this.$message({type:"error",message:e.msg})}))},getConferenceRoom(e){this.isAvailable(this.selectedUser)?ee.get("/conference/getRoom",{params:{profileID:this.profile.id}}).then((l=>{if("200"===l.code){this.conferenceRoom=l.data,this.conference=l.data.conferenceid,this.pin=l.data.pin,this.$message({type:"success",message:"successfully get a room"});let t={};t.sender=this.profile.id,t.receiver=e,t.message="node-"+this.conference+";pin-"+this.pin,this.websocketSend(JSON.stringify(t))}else this.$message({type:"error",message:l.msg})})):this.centerDialogVisible2=!0},routeTo(e){this.$router.push("/personal")},clickFriend(e){this.selectedFriendId=e.id,this.selectedUser=e},searchUser(){ee.get("/profile/searchProfile",{params:{profileID:this.profile.id,query:this.query}}).then((e=>{this.randomFriendTableData=e.data}))},initialWebSocket(){if(this.webSocketURL="wss://ericbackend.azurewebsites.net/chat/"+this.user.token+"/"+this.profile.id,"undefined"===typeof WebSocket)return console.log("your browser is not support websocket");console.log(this.webSocketURL),this.websocket=new WebSocket(this.webSocketURL),this.websocket.onmessage=this.websocketOnMessage,this.websocket.onopen=this.websocketOnOpen,this.websocket.onerror=this.websocketOnError,this.websocket.onclose=this.websocketClose},websocketOnOpen(){},chatAccept(){this.centerDialogVisible3=!1,this.disableAccept=!0;let e={};e.sender=this.profile.id,e.receiver=this.roomId,this.state="calling",e.message="1",this.websocketSend(JSON.stringify(e)),this.$router.push({path:"/videocall",query:{roomId:this.roomId,room:this.room,password:this.password}})},chatClose(){let e={};e.sender=this.profile.id,e.receiver=this.roomId,e.message="2",this.releaseConferenceRoom(),this.websocketSend(JSON.stringify(e)),this.state="no call",this.oncall=!1,this.roomId=null,this.message=null,this.centerDialogVisible1=!1,this.centerDialogVisible2=!1,this.centerDialogVisible3=!1},websocketOnError(){this.initialWebSocket()},websocketOnMessage(e){let l=JSON.parse(e.data);console.log("receive: ",l),l.isSystem?this.$message({type:"success",message:l.message+"; friend: "+l.fromName}):l.isGetRoomID?(this.oncall=!0,this.roomId=l.message,ee.get("/chatcontroller/room",{params:{roomID:this.roomId}}).then((e=>{this.message=e.data.message;const[l,t]=this.message.split(";");this.room=l.split("-")[1],this.password=t.split("-")[1],e.data.holderone===this.profile.id?this.centerDialogVisible1=!0:this.centerDialogVisible3=!0,this.state="on call"}))):1==l.message?(console.log(this.room),console.log(this.password),this.$router.push({path:"/videocall",query:{roomId:this.roomId,room:this.room,password:this.password}})):(this.$message({type:"error",message:"your friend closed your call"}),this.releaseConferenceRoom(),this.state="no call",this.oncall=!1,this.roomId=null,this.centerDialogVisible1=!1,this.centerDialogVisible2=!1,this.centerDialogVisible3=!1),this.getAllFriends()},websocketSend(e){this.websocket.send(e)},websocketClose(e){console.log("close connection",e)},resetOncall(){let e;e={},e.profileID=this.profile.id,e.targetID=0,ee.put("/profile/oncall",e).then((e=>{"200"===e.code?(this.$message({type:"success",message:"successfully reset Oncall"}),localStorage.setItem("profile",JSON.stringify(e.data)),this.refreshProfile()):this.$message({type:"error",message:e.msg})}))},callFriend(e){let l={};l.sender=this.profile.id,l.receiver=e,l.message="need url",this.websocketSend(JSON.stringify(l))},created(){console.log("build"),this.load(),this.username=this.profile.username,this.initialWebSocket()},refreshProfile(){this.profile=localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):{},console.log(this.profile),this.privacy=this.profile.privacy},load(){this.refreshProfile(),this.getAllFriends()},next(){this.$router.push("/addfriend")},getAllFriends(){ee.get("/profile/friendList",{params:{profileID:this.profile.id}}).then((e=>{console.log(e),this.friendTableData=e.data}))}}};const ji=(0,_.Z)(Bi,[["render",Mi],["__scopeId","data-v-133542ef"]]);var Gi=ji;const Yi=e=>((0,a.dD)("data-v-22f67fbe"),e=e(),(0,a.Cn)(),e),Ki={class:"container"},Qi={class:"conference_settings_background",id:"conference_settings_background"},Xi={class:"conference_settings"},er={class:"conference_settings_container"},lr=Yi((()=>(0,a._)("h2",null,"Video Call",-1))),tr=Yi((()=>(0,a._)("div",{class:"label"},"name",-1))),or=["value"],ar=(0,a.uE)('<br data-v-22f67fbe><div class="label" data-v-22f67fbe>Bandwidth</div><select id="bandwidth" data-v-22f67fbe><option value="1920" data-v-22f67fbe>Maximum Bandwidth (1920kbps)</option><option value="1280" data-v-22f67fbe>High Bandwidth (1280kbps)</option><option value="576" data-v-22f67fbe>Medium Bandwidth (576kbps)</option><option value="192" data-v-22f67fbe>Low Bandwidth (192kbps)</option></select><br data-v-22f67fbe>',4),sr={class:"conference_video_container",id:"conference_video_container"},ir=Yi((()=>(0,a._)("div",{class:"conference_video"},[(0,a._)("video",{id:"video",autoplay:"autoplay"})],-1))),rr=Yi((()=>(0,a._)("div",{class:"conference_selfview"},[(0,a._)("video",{id:"selfview",autoplay:"autoplay",muted:"true"})],-1))),nr={class:"chat_box",id:"chat_box"},dr=Yi((()=>(0,a._)("div",{class:"chat_content"},[(0,a._)("div",{class:"chat_content_text",id:"chat_content_text"})],-1))),mr={class:"chat_message"},ur=Yi((()=>(0,a._)("i",{class:"fas fa-times"},null,-1))),cr=[ur],pr=Yi((()=>(0,a._)("input",{type:"text",value:"",id:"chat_message"},null,-1))),hr={class:"controls"},gr=Yi((()=>(0,a._)("i",{class:"fas fa-microphone-slash"},null,-1))),fr=[gr],br=Yi((()=>(0,a._)("i",{class:"fas fa-phone-slash"},null,-1))),_r=[br],yr=Yi((()=>(0,a._)("i",{class:"fas fa-comment-dots"},null,-1))),wr=[yr],vr=Yi((()=>(0,a._)("i",{class:"fas fa-exchange-alt"},null,-1))),Wr=[vr];function kr(e,l,t,o,s,i){const r=(0,a.up)("WisdomHeader");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r),(0,a._)("div",Ki,[(0,a._)("div",Qi,[(0,a._)("div",Xi,[(0,a._)("div",er,[lr,tr,(0,a._)("input",{type:"text",id:"your_name",value:s.name},null,8,or),ar,(0,a._)("button",{onClick:l[0]||(l[0]=e=>i.doCall(s.room))},"Join Now")])])]),(0,a._)("div",sr,[ir,rr,(0,a._)("div",nr,[dr,(0,a._)("div",mr,[(0,a._)("div",{class:"chat_close",onClick:l[1]||(l[1]=e=>i.closeChat())},cr),pr,(0,a._)("button",{onClick:l[2]||(l[2]=e=>i.sendMessage())},"Send")])]),(0,a._)("div",hr,[(0,a._)("div",{class:"control",onClick:l[3]||(l[3]=e=>i.muteToggle()),id:"mute_button"},fr),(0,a._)("div",{class:"control",onClick:l[4]||(l[4]=e=>i.endCall())},_r),(0,a._)("div",{class:"control",onClick:l[5]||(l[5]=e=>i.showChat())},wr),(0,a._)("div",{class:"control",onClick:l[6]||(l[6]=e=>i.switchCamera())},Wr)])])])],64)}var Cr,Sr,Vr="",Ur=!1,Ir=new PexRTC,Dr=0;function xr(e){var l=document.getElementById("conference_settings_background");l.style.display="none";document.getElementById("video");var t=document.getElementById("your_name").value,o=e,a=document.getElementById("bandwidth");a=a[a.selectedIndex].value,a=parseInt(a),window.addEventListener("beforeunload",Nr),Ir.pin=null,Ir.onSetup=Hr,Ir.onConnect=Lr,Ir.onError=Nr,Ir.onDisconnect=Nr,Ir.onChatMessage=Tr,Ir.onCallTransfer=Pr,Ir.onConferenceUpdate=Fr,Ir.onParticipantCreate=$r,Ir.onRosterList=zr,Ir.onLayoutUpdate=Or,Ir.video_source=$("#video_device option:selected").val(),Ir.audio_source=$("#audio_device option:selected").val(),Ir.makeCall("ask.wisdom-connect.com",o,t,a)}function Pr(e){console.warn("Call Transfered!"),console.warn(e)}function Fr(e){console.log("DEBUG: Conference Update:",e)}function $r(e){console.log("DEBUG: Participant Created:",e)}function zr(e){console.log("DEBUG: Roster List:",e)}function Or(e,l){console.log("DEBUG: Layout Update:",e,l)}function Lr(e){"undefined"!==typeof MediaStream&&e instanceof MediaStream?video.srcObject=e:video.src=e;var l=document.getElementById("conference_video_container");l.style.display="flex",console.log("DEBUG: uuid:",Ir.uuid),Ir.setPresentationInMix(!0)}function Hr(e,l){if(e){var t=$("#selfview");document.getElementById("selfview").srcObject=e,t.resizable().draggable({containment:$(".container")})}Vr=1234,Ir.connect(Vr)}function Nr(e){var l=document.getElementById("conference_settings_background");l.style.display="flex";var t=document.getElementById("conference_video_container");t.style.display="none",Ir.disconnect(),video.src=""}function Ar(){var e=document.getElementById("chat_content_text"),l=document.getElementById("chat_message").value,t=document.getElementById("your_name").value;e.innerHTML+=`<b>${t}</b>: ${l}<br />`,document.getElementById("chat_message").value="",Ir.sendChatMessage(l)}function Tr(e){var l=document.getElementById("chat_content_text");l.innerHTML+=`<b>${e.origin}</b>: ${e.payload}<br />`,qr()}function Rr(){var e=document.getElementById("chat_box");e.style.display="none"}function qr(){var e=document.getElementById("chat_box");e.style.display="flex"}function Jr(){Ur=Ir.muteAudio(),Zr()}function Zr(){var e=document.getElementById("mute_button");e.style.color=1==Ur?"red":"#000"}async function Er(e){console.log(navigator.mediaDevices),await navigator.mediaDevices.getUserMedia(e);let l=await navigator.mediaDevices.enumerateDevices();Cr=l.filter((e=>"videoinput"==e.kind)),Sr=l.filter((e=>"audioinput"==e.kind)),console.log(Cr),Cr.forEach((function(e){$("#video_device").append(`<option value="${e.deviceId}">${e.label}</option>`)})),Sr.forEach((function(e){$("#audio_device").append(`<option value="${e.deviceId}">${e.label}</option>`)})),$("#video_device").on("change",(function(){Dr=$("#audio_device option:selected").index(),Ir.video_source=$("#video_device option:selected").val()})),$("#audio_device").on("change",(function(){Ir.audio_source=$("#audio_device option:selected").val()}))}function Mr(){Dr++,Dr>=Cr.length&&(Dr=0),Ir.video_source=Cr[Dr].deviceId,console.log(`Switch to ${Ir.video_source}`),console.log(`audio_source ${Ir.audio_source}`),Br(document.getElementById("selfview")),Ir.renegotiate(!1)}function Br(e){const l=e.srcObject,t=l.getTracks();t.forEach((function(e){e.stop()})),e.srcObject=null}var jr={name:"InterestListRemove",data(){return{websocket:null,webSocketURL:"wss://ericbackend.azurewebsites.net/chat",oncall:!1,roomId:null,form:{},query:"",search:"",hobbyTableData:[],room:"",password:"",name:"",configuration:{video:{height:{min:1080},width:{min:1920}},audio:!0},profile:localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):null,user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null}},computed:{sliceList(){return function(e,l){if(void 0!=e){let t=0,o=[];for(let a=0;a<e.length;a++)t=parseInt(a/l),o.length<=t&&o.push([]),o[t].push(e[a]);return o}}}},created(){this.load(),this.setOncall(),this.roomId=this.$route.query.roomId,this.room=this.$route.query.room,this.name=JSON.parse(localStorage.getItem("profile")).username,console.log(this.name),console.log(this.room)},destroyed(){this.websocket.close(),this.oncall&&(console.log("des"),this.chatClose())},mounted(){Er(this.configuration)},methods:{chatClose(){let e={};e.sender=this.profile.id,e.receiver=this.roomId,e.message="2",this.releaseConferenceRoom(),this.websocketSend(JSON.stringify(e)),this.state="no call",this.oncall=!1,this.roomId=null,this.message=null,this.dialogChatVisible1=!1,this.dialogChatVisible2=!1},initialWebSocket(){if(this.webSocketURL="wss://ericbackend.azurewebsites.net/chat/"+this.user.token+"/"+this.profile.id,"undefined"===typeof WebSocket)return console.log("your browser is not support websocket");console.log(this.webSocketURL),this.websocket=new WebSocket(this.webSocketURL),this.websocket.onmessage=this.websocketOnMessage,this.websocket.onopen=this.websocketOnOpen,this.websocket.onerror=this.websocketOnError,this.websocket.onclose=this.websocketClose},websocketOnOpen(){},websocketOnError(){this.initialWebSocket()},websocketOnMessage(e){let l=JSON.parse(e.data);console.log("receive: ",l),l.isSystem||l.isGetRoomID||1==l.message||this.$router.push({path:"/taponfriend",query:{}})},websocketSend(e){this.websocket.send(e)},websocketClose(e){console.log("close connection",e)},setOncall(){let e;e={},e.profileID=this.profile.id,e.targetID=1,ee.put("/profile/oncall",e).then((e=>{"200"===e.code?(this.$message({type:"success",message:"successfully reset Oncall"}),this.initialWebSocket(),localStorage.setItem("profile",JSON.stringify(e.data)),this.refreshProfile()):this.$message({type:"error",message:e.msg})}))},releaseConferenceRoom(){let e;e={},e.profileID=this.profile.id,e.targetID=null,ee.post("/conference/releaseRoom",e).then((e=>{"200"===e.code?(this.conferenceRoom=null,this.conference=null,this.pin=null,this.$message({type:"success",message:"successfully release a room"})):this.$message({type:"error",message:e.msg})}))},doCall(e){xr(e)},closeChat(){Rr()},sendMessage(){Ar()},muteToggle(){Jr()},endCall(){Nr(),this.chatClose(),this.websocket.close(),this.$router.push({path:"/taponfriend",query:{}})},showChat(){qr()},switchCamera(){Mr()},refreshProfile(){this.profile=localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):{}},load(){this.refreshProfile()}},components:{WisdomHeader:bo}};const Gr=(0,_.Z)(jr,[["render",kr],["__scopeId","data-v-22f67fbe"]]);var Yr=Gr;const Kr=(0,a.Uk)("FacilityLogin"),Qr=(0,a.Uk)("Facility Signup");function Xr(e,l,t,o,s,i){const r=(0,a.up)("el-button");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r,{type:"text",onClick:l[0]||(l[0]=l=>e.$router.push("/facilitylogin"))},{default:(0,a.w5)((()=>[Kr])),_:1}),(0,a.Wm)(r,{type:"text",onClick:l[1]||(l[1]=l=>e.$router.push("/facilitysignup"))},{default:(0,a.w5)((()=>[Qr])),_:1})],64)}var en={name:"Second"};const ln=(0,_.Z)(en,[["render",Xr]]);var tn=ln;const on={style:{padding:"10px",width:"100%"}},an={style:{margin:"10px 0"}},sn={style:{margin:"10px 0"}},rn=(0,a.Uk)("New Fast Code"),nn={style:{margin:"10px 0"}},dn=(0,a.Uk)("Search"),mn=(0,a.Uk)("Edit"),un=(0,a.Uk)("Delete"),cn={style:{"margin-top":"15px"}},pn={style:{width:"85%"}},hn=(0,a.Uk)("Apply"),gn=(0,a.Uk)("Cancel");function fn(e,l,t,o,s,r){const n=(0,a.up)("el-button"),d=(0,a.up)("el-input"),m=(0,a.up)("el-table-column"),u=(0,a.up)("el-popconfirm"),c=(0,a.up)("el-table"),p=(0,a.up)("el-pagination"),h=(0,a.up)("el-form-item"),g=(0,a.up)("el-form"),f=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)("div",on,[(0,a._)("div",an,[(0,a._)("span",null,"current user: "+(0,i.zw)(s.user.username),1)]),(0,a._)("div",sn,[(0,a.Wm)(n,{type:"primary",onClick:r.addUser},{default:(0,a.w5)((()=>[rn])),_:1},8,["onClick"])]),(0,a._)("div",nn,[(0,a.Wm)(d,{modelValue:s.query,"onUpdate:modelValue":l[0]||(l[0]=e=>s.query=e),placeholder:"please input username information to search",style:{width:"20%"},clearable:""},null,8,["modelValue"]),(0,a.Wm)(n,{type:"primary",style:{"margin-left":"7px"},onClick:r.load},{default:(0,a.w5)((()=>[dn])),_:1},8,["onClick"])]),(0,a.Wm)(c,{data:s.tableData,border:"",stripe:"",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{prop:"id",label:"ID"}),(0,a.Wm)(m,{prop:"role",label:"Role"}),(0,a.Wm)(m,{prop:"name",label:"Username"}),(0,a.Wm)(m,{prop:"email",label:"Email"}),(0,a.Wm)(m,{prop:"address",label:"Address"}),(0,a.Wm)(m,{prop:"abn",label:"ABN"}),(0,a.Wm)(m,{prop:"code",label:"Fast Code"}),(0,a.Wm)(m,{prop:"md5",label:"MD5"}),(0,a.Wm)(m,{prop:"manager",label:"Last Modified by"}),(0,a.Wm)(m,{prop:"state",label:"State"}),(0,a.Wm)(m,{fixed:"right",label:"Operations",width:"200px"},{default:(0,a.w5)((e=>[(0,a.Wm)(n,{type:"text",size:"small",onClick:l=>r.handleEdit(e.row)},{default:(0,a.w5)((()=>[mn])),_:2},1032,["onClick"]),(0,a.Wm)(u,{title:"Are you sure to delete this?",onConfirm:l=>r.handleDelete(e.row.id)},{reference:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",size:"small"},{default:(0,a.w5)((()=>[un])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),(0,a._)("div",cn,[(0,a.Wm)(p,{onSizeChange:r.handleSizeChange,onCurrentChange:r.handleCurrentChange,"current-page":s.currentPage,"page-sizes":[5,10,20],"page-size":s.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:s.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])]),(0,a.Wm)(f,{id:"userForm",modelValue:s.dialogVisible,"onUpdate:modelValue":l[7]||(l[7]=e=>s.dialogVisible=e),title:s.dialogTitle,width:"30%"},{default:(0,a.w5)((()=>[(0,a._)("div",pn,[(0,a.Wm)(g,{model:s.form,"label-width":"120px"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{label:"Username"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.form.name,"onUpdate:modelValue":l[1]||(l[1]=e=>s.form.name=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"Email Address"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{type:"email",modelValue:s.form.email,"onUpdate:modelValue":l[2]||(l[2]=e=>s.form.email=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"Address"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{type:"address",modelValue:s.form.address,"onUpdate:modelValue":l[3]||(l[3]=e=>s.form.address=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"ABN"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.form.abn,"onUpdate:modelValue":l[4]||(l[4]=e=>s.form.abn=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"Fast Code"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.form.code,"onUpdate:modelValue":l[5]||(l[5]=e=>s.form.code=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"primary",onClick:r.onSubmit},{default:(0,a.w5)((()=>[hn])),_:1},8,["onClick"]),(0,a.Wm)(n,{onClick:l[6]||(l[6]=e=>s.dialogVisible=!1)},{default:(0,a.w5)((()=>[gn])),_:1})])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue","title"])])}var bn={name:"FastCodeView",components:{},data(){return{isFacility:!1,loginForm:{},form:{},formProfile:{},dialogTitle:"Create new user",dialogLoginTitle:"login",dialogVisible:!1,query:"",total:0,currentPage:1,pageSize:10,pageNum:10,search:"",mode:0,tableData:[],user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}}},created(){this.load()},methods:{refreshUser(){this.user=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}},load(){ee.get("/fastcode/page",{params:{pageNum:this.currentPage,pageSize:this.pageSize,query:this.query}}).then((e=>{console.log(e),this.tableData=e.data.records,this.total=e.data.total}))},addUser(){this.dialogVisible=!0,this.form={},this.dialogTitle="Create new user fast code",this.isFacility=!1},onSubmit(){this.form.id?(console.log("update"),ee.put("/fastcode",this.form).then((e=>{console.log(e),"200"===e.code?this.$message({type:"success",message:"Successfully update user fast code"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogVisible=!1}))):(console.log("create"),console.log(this.form),ee.post("/fastcode/create",this.form).then((e=>{console.log(e),"200"===e.code?this.$message({type:"success",message:"Successfully add user fast code"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogVisible=!1})))},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0,this.dialogTitle="Update user fast code information"},handleDelete(e){console.log(e),ee["delete"]("/fastcode/"+e).then((e=>{"200"===e.code?this.$message({type:"success",message:"successfully delete"}):this.$message({type:"error",message:e.msg}),this.load()}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.currentPage=e,this.load()}}};const _n=(0,_.Z)(bn,[["render",fn]]);var yn=_n;const wn={style:{padding:"10px",width:"100%"}},vn={style:{margin:"10px 0"}},Wn={style:{margin:"10px 0"}},kn=(0,a.Uk)("New Profile"),Cn={style:{margin:"10px 0"}},Sn=(0,a.Uk)("Search"),Vn=(0,a.Uk)("Access"),Un=(0,a.Uk)("Edit"),In=(0,a.Uk)("Delete"),Dn={style:{"margin-top":"15px"}},xn={style:{width:"85%"}},Pn=["src"],Fn=(0,a.Uk)("hide"),$n=(0,a.Uk)("open"),zn=(0,a.Uk)("Male"),On=(0,a.Uk)("Female"),Ln=(0,a.Uk)("Secret"),Hn=(0,a.Uk)("Apply"),Nn=(0,a.Uk)("Cancel");function An(e,l,t,o,s,r){const n=(0,a.up)("el-button"),d=(0,a.up)("el-input"),m=(0,a.up)("el-table-column"),u=(0,a.up)("el-image"),c=(0,a.up)("el-popconfirm"),p=(0,a.up)("el-table"),h=(0,a.up)("el-pagination"),g=(0,a.up)("Plus"),f=(0,a.up)("el-icon"),b=(0,a.up)("el-upload"),_=(0,a.up)("el-form-item"),y=(0,a.up)("el-radio"),w=(0,a.up)("el-radio-group"),v=(0,a.up)("el-form"),W=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)("div",wn,[(0,a._)("div",vn,[(0,a._)("span",null,"current user: "+(0,i.zw)(s.user.username),1)]),(0,a._)("div",Wn,[(0,a.Wm)(n,{type:"primary",onClick:r.addProfile},{default:(0,a.w5)((()=>[kn])),_:1},8,["onClick"])]),(0,a._)("div",Cn,[(0,a.Wm)(d,{modelValue:s.query,"onUpdate:modelValue":l[0]||(l[0]=e=>s.query=e),placeholder:"please input information of file name to search",style:{width:"20%"},clearable:""},null,8,["modelValue"]),(0,a.Wm)(n,{type:"primary",style:{"margin-left":"7px"},onClick:r.load},{default:(0,a.w5)((()=>[Sn])),_:1},8,["onClick"])]),(0,a.Wm)(p,{data:s.tableData,border:"",stripe:"",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{prop:"id",label:"ID"}),(0,a.Wm)(m,{prop:"owner",label:"Owner ID"}),(0,a.Wm)(m,{prop:"username",label:"Profile Username"}),(0,a.Wm)(m,{label:"Header"},{default:(0,a.w5)((e=>[(0,a.Wm)(u,{style:{width:"100px",height:"100px"},src:e.row.icon},null,8,["src"])])),_:1}),(0,a.Wm)(m,{prop:"privacy",label:"privacy"}),(0,a.Wm)(m,{prop:"age",label:"Age"}),(0,a.Wm)(m,{prop:"gender",label:"Gender"}),(0,a.Wm)(m,{prop:"online",label:"Online"}),(0,a.Wm)(m,{prop:"oncall",label:"Oncall"}),(0,a.Wm)(m,{prop:"lsatLogin",label:"Lsat Login Time"}),(0,a.Wm)(m,{fixed:"right",label:"Operations",width:"200px"},{default:(0,a.w5)((e=>[(0,a.Wm)(n,{type:"text",size:"small",onClick:l=>r.handleAccess(e.row)},{default:(0,a.w5)((()=>[Vn])),_:2},1032,["onClick"]),(0,a.Wm)(n,{type:"text",size:"small",onClick:l=>r.handleEdit(e.row)},{default:(0,a.w5)((()=>[Un])),_:2},1032,["onClick"]),(0,a.Wm)(c,{title:"Are you sure to delete this?",onConfirm:l=>r.handleDelete(e.row.id)},{reference:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",size:"small"},{default:(0,a.w5)((()=>[In])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),(0,a._)("div",Dn,[(0,a.Wm)(h,{onSizeChange:r.handleSizeChange,onCurrentChange:r.handleCurrentChange,"current-page":s.currentPage,"page-sizes":[5,10,20],"page-size":s.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:s.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])]),(0,a.Wm)(W,{id:"profileForm",modelValue:s.dialogProfileVisible,"onUpdate:modelValue":l[6]||(l[6]=e=>s.dialogProfileVisible=e),title:s.dialogProfileTitle,width:"30%"},{default:(0,a.w5)((()=>[(0,a._)("div",xn,[(0,a.Wm)(v,{model:s.form,"label-width":"120px"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{label:"Upload Profile Icon"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{class:"avatar-uploader",action:"http://"+s.serverIp+"/file/upload","show-file-list":!1,"on-change":r.handleLicensePreview,"before-upload":r.beforeLicenseUpload,"on-success":r.handleAvatarSuccess,headers:s.uploadHeaders},{default:(0,a.w5)((()=>[null!=this.img?((0,a.wg)(),(0,a.iD)("img",{key:0,src:this.img,class:"avatar"},null,8,Pn)):((0,a.wg)(),(0,a.j4)(f,{key:1,class:"avatar-uploader-icon"},{default:(0,a.w5)((()=>[(0,a.Wm)(g)])),_:1}))])),_:1},8,["action","on-change","before-upload","on-success","headers"])])),_:1}),(0,a.Wm)(_,{label:"Profile Name"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.form.username,"onUpdate:modelValue":l[1]||(l[1]=e=>s.form.username=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(_,{label:"Privacy"},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{modelValue:s.form.privacy,"onUpdate:modelValue":l[2]||(l[2]=e=>s.form.privacy=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{label:1},{default:(0,a.w5)((()=>[Fn])),_:1}),(0,a.Wm)(y,{label:0},{default:(0,a.w5)((()=>[$n])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(_,{label:"Age"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.form.age,"onUpdate:modelValue":l[3]||(l[3]=e=>s.form.age=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(_,{label:"Gender"},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{modelValue:s.form.gender,"onUpdate:modelValue":l[4]||(l[4]=e=>s.form.gender=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{label:"male"},{default:(0,a.w5)((()=>[zn])),_:1}),(0,a.Wm)(y,{label:"female"},{default:(0,a.w5)((()=>[On])),_:1}),(0,a.Wm)(y,{label:"secret"},{default:(0,a.w5)((()=>[Ln])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(_,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"primary",onClick:r.onSubmit},{default:(0,a.w5)((()=>[Hn])),_:1},8,["onClick"]),(0,a.Wm)(n,{onClick:l[5]||(l[5]=e=>s.dialogProfileVisible=!1)},{default:(0,a.w5)((()=>[Nn])),_:1})])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue","title"])])}var Tn={name:"ProfileDemoView",components:{Plus:Ol.Z},data(){return{serverIp:Q,form:{},dialogProfileTitle:"Create new hobby",dialogProfileVisible:!1,isSecondLevel:!1,version:Math.random(),query:"",total:0,currentPage:1,pageSize:10,pageNum:10,search:"",tableData:[],img:null,user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,uploadHeaders:{}}},created(){this.load(),this.uploadHeaders.token=this.user.token},methods:{onSubmit(){this.form.id?(console.log("update"),ee.put("/profile",this.form).then((e=>{console.log(e),"200"===e.code?this.$message({type:"success",message:"Successfully update user"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogProfileVisible=!1}))):(console.log("create"),this.form.owner=this.user.id,console.log(this.form),1!==this.form.level&&2!==this.form.level&&(this.form.level=1),console.log(this.form),ee.post("/profile/create",this.form).then((e=>{console.log(e),"200"===e.code?this.$message({type:"success",message:"Successfully add hobby"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogProfileVisible=!1})))},handleLicensePreview(e){const l=e.size/1024/1024<2;l||this.$message.error("Avatar picture size can not exceed 2MB!")},handleAvatarSuccess(e){this.form.icon=e,this.img=e,this.load(),this.$message({type:"success",message:"Successfully upload file"})},beforeLicenseUpload(e){return"image/jpeg"!==e.type&&"image/png"!==e.type&&"image/jpg"!==e.type?(this.$message({type:"error",message:"Avatar picture must be JPG format!"}),!1):!(e.size/1024/1024>2)||(this.$message({type:"error",message:"Avatar picture size can not exceed 2MB!"}),!1)},refreshUser(){this.user=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}},load(){this.refreshUser(),ee.get("/profile/page",{params:{pageNum:this.currentPage,pageSize:this.pageSize,query:this.query}}).then((e=>{console.log(e),this.tableData=e.data.records,this.total=e.data.total}))},addProfile(){this.form={},this.form.gender="secret",this.form.privacy=0,this.img=null,this.dialogProfileVisible=!0,this.fileForm={},this.dialogProfileTitle="New Profile"},handleDelete(e){ee["delete"]("/profile/"+e).then((e=>{"200"===e.code?this.$message({type:"success",message:"successfully delete"}):this.$message({type:"error",message:e.msg}),this.load()}))},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.img=this.form.icon,this.dialogProfileVisible=!0,this.dialogProfileTitle="Update Profile"},handleAccess(e){localStorage.setItem("profile",JSON.stringify(e)),this.$router.push({name:"ProfileDetailView",params:{profileId:this.form.id}})},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.currentPage=e,this.load()}}};const Rn=(0,_.Z)(Tn,[["render",An]]);var qn=Rn;const Jn={style:{padding:"10px",width:"100%"}},Zn={style:{margin:"10px 0"}},En={style:{margin:"10px 0"}},Mn=(0,a.Uk)("setPrivacy"),Bn=(0,a._)("div",{style:{margin:"10px 0"}},[(0,a._)("span",null,"Your Friends")],-1),jn=(0,a.Uk)("Call"),Gn=(0,a.Uk)("Delete"),Yn=(0,a.Uk)("Block"),Kn=(0,a._)("div",{style:{margin:"10px 0"}},[(0,a._)("span",null,"Random Friends")],-1),Qn={style:{margin:"10px 0"}},Xn=(0,a.Uk)("Search"),ed={style:{margin:"10px 0"}},ld=(0,a.Uk)("Random Friend"),td=(0,a.Uk)("Add Friend"),od=(0,a.Uk)("Block"),ad=(0,a._)("div",{style:{margin:"10px 0"}},[(0,a._)("span",null,"Friends Request")],-1),sd=(0,a.Uk)("Accept Friend"),id=(0,a.Uk)("Reject Friend"),rd=(0,a._)("div",{style:{margin:"10px 0"}},[(0,a._)("span",null,"Block List")],-1),nd=(0,a.Uk)("Unblock"),dd=(0,a._)("div",{style:{margin:"10px 0"}},[(0,a._)("span",null,"Hobby List")],-1),md=(0,a.Uk)("Delete"),ud=(0,a._)("div",{style:{margin:"10px 0"}},[(0,a._)("span",null,"Random Hobby List")],-1),cd={style:{margin:"10px 0"}},pd=(0,a.Uk)("Random Hobby"),hd=(0,a.Uk)("Add Hobby"),gd={style:{width:"85%"}},fd=(0,a.Uk)("Accept"),bd=(0,a.Uk)("Refuse"),_d={style:{width:"85%"}},yd=(0,a.Uk)("Close");function wd(e,l,t,o,s,r){const n=(0,a.up)("el-button"),d=(0,a.up)("el-table-column"),m=(0,a.up)("el-image"),u=(0,a.up)("el-popconfirm"),c=(0,a.up)("el-table"),p=(0,a.up)("el-input"),h=(0,a.up)("el-form-item"),g=(0,a.up)("el-form"),f=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)("div",Jn,[(0,a._)("div",Zn,[(0,a._)("span",null,"current profile: "+(0,i.zw)(s.profile.username),1)]),(0,a._)("div",En,[(0,a.Wm)(n,{type:"primary",onClick:r.setPrivacy},{default:(0,a.w5)((()=>[Mn])),_:1},8,["onClick"]),(0,a.Uk)(" privacy state: "+(0,i.zw)(this.privacy),1)]),Bn,(0,a.Wm)(c,{data:s.friendTableData,border:"",stripe:"",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{prop:"id",label:"ID"}),(0,a.Wm)(d,{prop:"owner",label:"Owner ID"}),(0,a.Wm)(d,{prop:"username",label:"Profile Username"}),(0,a.Wm)(d,{label:"Header"},{default:(0,a.w5)((e=>[(0,a.Wm)(m,{style:{width:"100px",height:"100px"},src:e.row.icon},null,8,["src"])])),_:1}),(0,a.Wm)(d,{prop:"privacy",label:"privacy"}),(0,a.Wm)(d,{prop:"age",label:"Age"}),(0,a.Wm)(d,{prop:"gender",label:"Gender"}),(0,a.Wm)(d,{prop:"online",label:"Online"}),(0,a.Wm)(d,{prop:"oncall",label:"Oncall"}),(0,a.Wm)(d,{prop:"lsatLogin",label:"Lsat Login Time"}),(0,a.Wm)(d,{fixed:"right",label:"Operations",width:"200px"},{default:(0,a.w5)((e=>[(0,a.Wm)(u,{title:"Are you sure to call this?",onConfirm:l=>r.callFriend(e.row.id)},{reference:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",size:"small"},{default:(0,a.w5)((()=>[jn])),_:1})])),_:2},1032,["onConfirm"]),(0,a.Wm)(u,{title:"Are you sure to delete this?",onConfirm:l=>r.deleteFriend(e.row.id)},{reference:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",size:"small"},{default:(0,a.w5)((()=>[Gn])),_:1})])),_:2},1032,["onConfirm"]),(0,a.Wm)(u,{title:"Are you sure to block this user?",onConfirm:l=>r.blockUser(e.row.id)},{reference:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",size:"small"},{default:(0,a.w5)((()=>[Yn])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),Kn,(0,a._)("div",Qn,[(0,a.Wm)(p,{modelValue:s.query,"onUpdate:modelValue":l[0]||(l[0]=e=>s.query=e),placeholder:"please input information of file name to search",style:{width:"20%"},clearable:""},null,8,["modelValue"]),(0,a.Wm)(n,{type:"primary",style:{"margin-left":"7px"},onClick:r.searchUser},{default:(0,a.w5)((()=>[Xn])),_:1},8,["onClick"])]),(0,a._)("div",ed,[(0,a.Wm)(n,{type:"primary",onClick:r.getRandomFriends},{default:(0,a.w5)((()=>[ld])),_:1},8,["onClick"])]),(0,a.Wm)(c,{data:s.randomFriendTableData,border:"",stripe:"",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{prop:"id",label:"ID"}),(0,a.Wm)(d,{prop:"owner",label:"Owner ID"}),(0,a.Wm)(d,{prop:"username",label:"Profile Username"}),(0,a.Wm)(d,{label:"Header"},{default:(0,a.w5)((e=>[(0,a.Wm)(m,{style:{width:"100px",height:"100px"},src:e.row.icon},null,8,["src"])])),_:1}),(0,a.Wm)(d,{prop:"privacy",label:"privacy"}),(0,a.Wm)(d,{prop:"age",label:"Age"}),(0,a.Wm)(d,{prop:"gender",label:"Gender"}),(0,a.Wm)(d,{prop:"online",label:"Online"}),(0,a.Wm)(d,{prop:"oncall",label:"Oncall"}),(0,a.Wm)(d,{prop:"lsatLogin",label:"Lsat Login Time"}),(0,a.Wm)(d,{fixed:"right",label:"Operations",width:"200px"},{default:(0,a.w5)((e=>[(0,a.Wm)(u,{title:"Send Friend Request?",onConfirm:l=>r.sendFriendRequest(e.row.id)},{reference:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",size:"small"},{default:(0,a.w5)((()=>[td])),_:1})])),_:2},1032,["onConfirm"]),(0,a.Wm)(u,{title:"Are you sure to block this user?",onConfirm:l=>r.blockUser(e.row.id)},{reference:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",size:"small"},{default:(0,a.w5)((()=>[od])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),ad,(0,a.Wm)(c,{data:s.friendRequestTableData,border:"",stripe:"",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{prop:"id",label:"ID"}),(0,a.Wm)(d,{prop:"owner",label:"Owner ID"}),(0,a.Wm)(d,{prop:"username",label:"Profile Username"}),(0,a.Wm)(d,{label:"Header"},{default:(0,a.w5)((e=>[(0,a.Wm)(m,{style:{width:"100px",height:"100px"},src:e.row.icon},null,8,["src"])])),_:1}),(0,a.Wm)(d,{prop:"privacy",label:"privacy"}),(0,a.Wm)(d,{prop:"age",label:"Age"}),(0,a.Wm)(d,{prop:"gender",label:"Gender"}),(0,a.Wm)(d,{prop:"online",label:"Online"}),(0,a.Wm)(d,{prop:"oncall",label:"Oncall"}),(0,a.Wm)(d,{prop:"lsatLogin",label:"Lsat Login Time"}),(0,a.Wm)(d,{fixed:"right",label:"Operations",width:"200px"},{default:(0,a.w5)((e=>[(0,a.Wm)(u,{title:"Accept Friend Request?",onConfirm:l=>r.acceptFriendRequest(e.row.id)},{reference:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",size:"small"},{default:(0,a.w5)((()=>[sd])),_:1})])),_:2},1032,["onConfirm"]),(0,a.Wm)(u,{title:"Reject Friend Request?",onConfirm:l=>r.deleteFriend(e.row.id)},{reference:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",size:"small"},{default:(0,a.w5)((()=>[id])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),rd,(0,a.Wm)(c,{data:s.blockTableData,border:"",stripe:"",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{prop:"id",label:"ID"}),(0,a.Wm)(d,{prop:"owner",label:"Owner ID"}),(0,a.Wm)(d,{prop:"username",label:"Profile Username"}),(0,a.Wm)(d,{label:"Header"},{default:(0,a.w5)((e=>[(0,a.Wm)(m,{style:{width:"100px",height:"100px"},src:e.row.icon},null,8,["src"])])),_:1}),(0,a.Wm)(d,{prop:"privacy",label:"privacy"}),(0,a.Wm)(d,{prop:"age",label:"Age"}),(0,a.Wm)(d,{prop:"gender",label:"Gender"}),(0,a.Wm)(d,{prop:"online",label:"Online"}),(0,a.Wm)(d,{prop:"oncall",label:"Oncall"}),(0,a.Wm)(d,{prop:"lsatLogin",label:"Lsat Login Time"}),(0,a.Wm)(d,{fixed:"right",label:"Operations",width:"200px"},{default:(0,a.w5)((e=>[(0,a.Wm)(u,{title:"Unblock?",onConfirm:l=>r.unBlock(e.row.id)},{reference:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",size:"small"},{default:(0,a.w5)((()=>[nd])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),dd,(0,a.Wm)(c,{data:s.hobbyTableData,border:"",stripe:"",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{prop:"id",label:"ID"}),(0,a.Wm)(d,{prop:"name",label:"Hobby Name"}),(0,a.Wm)(d,{label:"Hobby Img"},{default:(0,a.w5)((e=>[(0,a.Wm)(m,{style:{width:"100px",height:"100px"},src:e.row.icon},null,8,["src"])])),_:1}),(0,a.Wm)(d,{prop:"level",label:"Hobby Level"}),(0,a.Wm)(d,{prop:"tophobbyname",label:"Top Hobby ID"}),(0,a.Wm)(d,{prop:"icon",label:"Img Url"}),(0,a.Wm)(d,{fixed:"right",label:"Operations",width:"200px"},{default:(0,a.w5)((e=>[(0,a.Wm)(u,{title:"Are you sure to delete this hobby?",onConfirm:l=>r.deleteHobby(e.row.id)},{reference:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",size:"small"},{default:(0,a.w5)((()=>[md])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),ud,(0,a._)("div",cd,[(0,a.Wm)(n,{type:"primary",onClick:r.getRandomHobbies},{default:(0,a.w5)((()=>[pd])),_:1},8,["onClick"])]),(0,a.Wm)(c,{data:s.randomHobbyTableData,border:"",stripe:"",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{prop:"id",label:"ID"}),(0,a.Wm)(d,{prop:"name",label:"Hobby Name"}),(0,a.Wm)(d,{label:"Hobby Img"},{default:(0,a.w5)((e=>[(0,a.Wm)(m,{style:{width:"100px",height:"100px"},src:e.row.icon},null,8,["src"])])),_:1}),(0,a.Wm)(d,{prop:"level",label:"Hobby Level"}),(0,a.Wm)(d,{prop:"tophobbyname",label:"Top Hobby ID"}),(0,a.Wm)(d,{prop:"icon",label:"Img Url"}),(0,a.Wm)(d,{fixed:"right",label:"Operations",width:"200px"},{default:(0,a.w5)((e=>[(0,a.Wm)(u,{title:"Are you sure to add this?",onConfirm:l=>r.addHobby(e.row.id)},{reference:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"text",size:"small"},{default:(0,a.w5)((()=>[hd])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),(0,a.Wm)(f,{id:"chatForm",modelValue:s.dialogChatVisible1,"onUpdate:modelValue":l[1]||(l[1]=e=>s.dialogChatVisible1=e),title:this.roomId,width:"30%","before-close":r.chatClose},{default:(0,a.w5)((()=>[(0,a._)("div",gd,[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,{label:this.state},null,8,["label"]),(0,a.Wm)(h,{label:this.message},null,8,["label"]),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,{type:"primary",onClick:r.chatAccept,disabled:this.disableAccept},{default:(0,a.w5)((()=>[fd])),_:1},8,["onClick","disabled"]),(0,a.Wm)(n,{onClick:r.chatClose},{default:(0,a.w5)((()=>[bd])),_:1},8,["onClick"])])),_:1})])),_:1})])])),_:1},8,["modelValue","title","before-close"]),(0,a.Wm)(f,{id:"chatForm2",modelValue:s.dialogChatVisible2,"onUpdate:modelValue":l[2]||(l[2]=e=>s.dialogChatVisible2=e),title:this.roomId,width:"30%","before-close":r.chatClose},{default:(0,a.w5)((()=>[(0,a._)("div",_d,[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,{label:this.state},null,8,["label"]),(0,a.Wm)(h,{label:this.message},null,8,["label"]),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,{onClick:r.chatClose},{default:(0,a.w5)((()=>[yd])),_:1},8,["onClick"])])),_:1})])),_:1})])])),_:1},8,["modelValue","title","before-close"])])}var vd={name:"ProfileDetailView",components:{Plus:Ol.Z},data(){return{message:null,conferenceRoomID:null,conference:null,pin:null,websocket:null,webSocketURL:"ws://ericbackend.azurewebsites.net/chat/",oncall:!1,roomId:null,dialogChatVisible1:!1,dialogChatVisible2:!1,disableAccept:!1,state:"no call",privacy:"123",form:{},query:null,search:"",friendTableData:[],friendRequestTableData:[],randomFriendTableData:[],hobbyTableData:[],randomHobbyTableData:[],blockTableData:[],profile:localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):null,user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null}},watch:{$route(e,l){this.websocket.close(),this.oncall&&this.chatClose()}},created(){this.load(),this.initialWebSocket(),this.releaseConferenceRoom()},destroyed(){this.websocket.close(),this.oncall&&(console.log("des"),this.chatClose())},methods:{searchUser(){console.log(this.query),ee.get("/profile/searchProfile",{params:{profileID:this.profile.id,query:this.query}}).then((e=>{this.randomFriendTableData=e.data,console.log(this.randomFriendTableData)}))},initialWebSocket(){if(this.webSocketURL="ws://ericbackend.azurewebsites.net/chat/"+this.user.token+"/"+this.profile.id,"undefined"===typeof WebSocket)return console.log("your browser is not support websocket");console.log(this.webSocketURL),this.websocket=new WebSocket(this.webSocketURL),this.websocket.onmessage=this.websocketOnMessage,this.websocket.onopen=this.websocketOnOpen,this.websocket.onerror=this.websocketOnError,this.websocket.onclose=this.websocketClose},websocketOnOpen(){},chatAccept(){this.disableAccept=!0;let e={};e.sender=this.profile.id,e.receiver=this.roomId,this.state="calling",e.message="1",this.websocketSend(JSON.stringify(e))},chatClose(){let e={};e.sender=this.profile.id,e.receiver=this.roomId,e.message="2",this.releaseConferenceRoom(),this.websocketSend(JSON.stringify(e)),this.state="no call",this.oncall=!1,this.roomId=null,this.message=null,this.dialogChatVisible1=!1,this.dialogChatVisible2=!1},websocketOnError(){this.initialWebSocket()},websocketOnMessage(e){let l=JSON.parse(e.data);console.log("receive: ",l),l.isSystem?this.$message({type:"success",message:l.message+"; friend: "+l.fromName}):l.isGetRoomID?(this.oncall=!0,this.roomId=l.message,ee.get("/chatcontroller/room",{params:{roomID:this.roomId}}).then((e=>{this.message=e.data.message,e.data.holderone===this.profile.id?this.dialogChatVisible2=!0:this.dialogChatVisible1=!0,this.state="on call"}))):1==l.message?this.state="calling":(this.$message({type:"error",message:"your friend closed your call"}),this.releaseConferenceRoom(),this.state="no call",this.oncall=!1,this.roomId=null,this.dialogChatVisible1=!1,this.dialogChatVisible2=!1),this.getAllFriends()},websocketSend(e){this.websocket.send(e)},websocketClose(e){console.log("close connection",e)},getConferenceRoom(e){ee.get("/conference/getRoom",{params:{profileID:this.profile.id}}).then((l=>{if("200"===l.code){this.conferenceRoom=l.data,this.conference=l.data.conferenceid,this.pin=l.data.pin,this.$message({type:"success",message:"successfully get a room"});let t={};t.sender=this.profile.id,t.receiver=e,t.message="node-"+this.conference+";pin-"+this.pin,this.websocketSend(JSON.stringify(t))}else this.$message({type:"error",message:l.msg})}))},releaseConferenceRoom(){let e;e={},e.profileID=this.profile.id,e.targetID=null,ee.post("/conference/releaseRoom",e).then((e=>{"200"===e.code?(this.conferenceRoom=null,this.conference=null,this.pin=null,this.$message({type:"success",message:"successfully release a room"})):this.$message({type:"error",message:e.msg})}))},callFriend(e){this.getConferenceRoom(e)},refreshProfile(){this.profile=localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):{},this.privacy=this.profile.privacy},load(){this.refreshProfile(),this.getAllFriends(),this.getRandomFriends(),this.getFriendsRequest(),this.getAllBlock(),this.getAllHobbies(),this.getRandomHobbies()},getAllFriends(){ee.get("/profile/friendList",{params:{profileID:this.profile.id}}).then((e=>{console.log(e),this.friendTableData=e.data}))},getAllHobbies(){ee.get("/hobby/hobbyList",{params:{profileID:this.profile.id}}).then((e=>{this.hobbyTableData=e.data}))},getRandomHobbies(){ee.get("/hobby/randomHobbies",{params:{profileID:this.profile.id}}).then((e=>{this.randomHobbyTableData=e.data}))},addHobby(e){let l;l={},l.profileID=this.profile.id,l.targetID=e,ee.post("/hobby/addHobby",l).then((e=>{"200"===e.code?(this.$message({type:"success",message:"successfully add hobby"}),this.load()):this.$message({type:"error",message:e.msg})}))},deleteHobby(e){let l;l={},l.profileID=this.profile.id,l.targetID=e,ee["delete"]("/hobby/hobbyDelete",{data:l}).then((e=>{"200"===e.code?(this.$message({type:"success",message:"successfully delete hobby"}),this.load()):this.$message({type:"error",message:e.msg})}))},getAllBlock(){ee.get("/profile/blockList",{params:{profileID:this.profile.id}}).then((e=>{this.blockTableData=e.data}))},getFriendsRequest(){ee.get("/profile/friendsRequest",{params:{profileID:this.profile.id}}).then((e=>{this.friendRequestTableData=e.data}))},getRandomFriends(){ee.get("/profile/randomFriends",{params:{profileID:this.profile.id}}).then((e=>{this.randomFriendTableData=e.data}))},acceptFriendRequest(e){let l;l={},l.profileID=this.profile.id,l.targetID=e,ee.put("/profile/acceptFriendRequest",l).then((e=>{"200"===e.code?(this.$message({type:"success",message:"successfully accept request"}),this.load()):this.$message({type:"error",message:e.msg})}))},sendFriendRequest(e){let l;l={},l.profileID=this.profile.id,l.targetID=e,ee.post("/profile/addFriend",l).then((e=>{"200"===e.code?(this.$message({type:"success",message:"successfully send friend request"}),this.load()):this.$message({type:"error",message:e.msg})}))},deleteFriend(e){let l;l={},l.profileID=this.profile.id,l.targetID=e,ee["delete"]("/profile/friendDelete",{data:l}).then((e=>{"200"===e.code?(this.$message({type:"success",message:"successfully delete or reject"}),this.load()):this.$message({type:"error",message:e.msg})}))},blockUser(e){let l;l={},l.profileID=this.profile.id,l.targetID=e,ee.post("/profile/blockUser",l).then((e=>{"200"===e.code?(this.$message({type:"success",message:"successfully block"}),this.load()):this.$message({type:"error",message:e.msg}),this.load()}))},unBlock(e){let l;l={},l.profileID=this.profile.id,l.targetID=e,ee["delete"]("/profile/unBlock",{data:l}).then((e=>{"200"===e.code?(this.$message({type:"success",message:"successfully unblock"}),this.load()):this.$message({type:"error",message:e.msg})}))},setPrivacy(){let e;e={},e.profileID=this.profile.id,ee.put("/profile/updatePrivacy",e).then((e=>{"200"===e.code?(this.$message({type:"success",message:"successfully set privacy"}),localStorage.setItem("profile",JSON.stringify(e.data)),this.refreshProfile()):this.$message({type:"error",message:e.msg})}))}}};const Wd=(0,_.Z)(vd,[["render",wd]]);var kd=Wd,Cd=t.p+"img/flower1.65530b8f.jpg";const Sd=e=>((0,a.dD)("data-v-500d4c03"),e=e(),(0,a.Cn)(),e),Vd={class:"add_friends_container"},Ud={class:"add_friends_form"},Id={class:"add_friends_form_header"},Dd=Sd((()=>(0,a._)("img",{src:Fo,style:{height:"30px"}},null,-1))),xd=[Dd],Pd=Sd((()=>(0,a._)("hr",null,null,-1))),Fd=Sd((()=>(0,a._)("div",{class:"add_friends_display_header"},[(0,a._)("p",null,"Add random friends")],-1))),$d={class:"add_friends_display_container"},zd={class:"add_friends_display_content"},Od=["onClick"],Ld=["src"],Hd={class:"add_friends_buttons"},Nd=(0,a.uE)('<hr data-v-500d4c03><div class="add_friends_display_header" data-v-500d4c03><p data-v-500d4c03>Search by name</p></div><div class="add_friends_search" data-v-500d4c03><table data-v-500d4c03><tr data-v-500d4c03><td data-v-500d4c03><input type="input" placeholder="Name" data-v-500d4c03></td><td data-v-500d4c03><a href="javascript:" data-v-500d4c03><button id="add_friends_search_button" data-v-500d4c03>Search</button></a></td></tr></table></div><div class="add_friends_search_content" data-v-500d4c03><table data-v-500d4c03><tr data-v-500d4c03><td data-v-500d4c03><img src="'+Cd+'" data-v-500d4c03></td><td data-v-500d4c03><p data-v-500d4c03>James</p></td></tr></table></div>',4);function Ad(e,l,t,o,s,r){const n=(0,a.up)("wisdom-header");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(n),(0,a._)("div",Vd,[(0,a._)("div",Ud,[(0,a._)("div",Id,[(0,a._)("div",{class:"add_friends_back_button",onClick:l[0]||(l[0]=e=>r.back())},xd)]),Pd,Fd,(0,a._)("div",$d,[(0,a._)("div",zd,[(0,a._)("table",null,[(0,a._)("tr",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.randomFriendTableData,((e,l)=>((0,a.wg)(),(0,a.iD)("td",{key:l,onClick:t=>r.selectFriend(l,e.id),class:(0,i.C_)(l===s.selectedIndex?"selected":"")},[(0,a._)("img",{src:e.icon},null,8,Ld),(0,a._)("p",null,(0,i.zw)(e.username),1)],10,Od)))),128))])])])]),(0,a._)("div",Hd,[(0,a._)("table",null,[(0,a._)("tr",null,[(0,a._)("td",null,[(0,a._)("button",{id:"add_friends_refresh_btn",onClick:l[1]||(l[1]=e=>r.getRandomFriends())},"Refresh")]),(0,a._)("td",null,[(0,a._)("button",{id:"add_friends_add_btn",onClick:l[2]||(l[2]=e=>r.sendFriendRequest(s.friendId))},"Add")])])])]),Nd])])],64)}var Td={components:{WisdomHeader:bo},data(){return{randomFriendTableData:[],selectedIndex:-1,friendId:-1,profile:localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):null}},computed:{IsIndex(e){return console.log(this.selectedIndex),console.log(e),this.selectedIndex===e}},created(){this.getRandomFriends(),console.log("randomdata"),console.log(this.randomFriendTableData)},methods:{back(){this.$router.push("/taponfriend")},getRandomFriends(){ee.get("/profile/randomFriends",{params:{profileID:this.profile.id}}).then((e=>{this.randomFriendTableData=e.data}))},selectFriend(e,l){this.selectedIndex=e,this.friendId=l,console.log(this.selectedIndex)},sendFriendRequest(e){let l;l={},l.profileID=this.profile.id,l.targetID=e,ee.post("/profile/addFriend",l).then((e=>{"200"===e.code?(this.$message({type:"success",message:"successfully send friend request"}),this.load()):this.$message({type:"error",message:e.msg})}))}}};const Rd=(0,_.Z)(Td,[["render",Ad],["__scopeId","data-v-500d4c03"]]);var qd=Rd;const Jd=[{path:"/",redirect:"/profilelogin"},{path:"/control",name:"Layout",component:Xe,redirect:"/control/home",children:[{path:"home",name:"Home",component:He},{path:"user-controller",name:"UserControllerView",component:wl},{path:"file-controller",name:"FileControllerView",component:Nl},{path:"hobby-controller",name:"HobbyControllerView",component:St},{path:"profile-controller",name:"ProfileControllerView",component:it},{path:"fastcode-controller",name:"FastCodeView",component:yn},{path:"profile-demo",name:"ProfileDemoView",component:qn},{path:"profile-detail-demo",name:"ProfileDetailView",component:kd}]},{path:"/login",name:"Login",component:oe},{path:"/register",name:"Register",component:Kt},{path:"/manager-login",name:"ManagerLogin",component:oe},{path:"/manager-register",name:"ManagerRegister",component:pe},{path:"/facilitylogin",name:"FacilityLogin",component:wo},{path:"/facilitysignup",name:"FacilitySignup",component:Kt},{path:"/resetpassword",name:"ResetPassword",component:Po},{path:"/blockedlist",name:"BlockedList",component:Ko},{path:"/interestlist",name:"InterestList",component:ba},{path:"/interestlistremove",name:"InterestListRemove",component:Na},{path:"/newprofile",name:"NewProfile",component:es},{path:"/moreinterest",name:"MoreInterest",component:vs},{path:"/personal",name:"Personal",component:Js},{path:"/personalchange",name:"PersonalChange",component:si},{path:"/profilelogin",name:"ProfileLogin",component:yi},{path:"/taponfriend",name:"TapOnFriend",component:Gi},{path:"/addfriend",name:"AddFriend",component:qd},{path:"/videocall",name:"VideoCall",component:Yr},{path:"/second",name:"Second",component:tn}],Zd=(0,R.p7)({history:(0,R.PO)("/"),routes:Jd});Zd.beforeEach(((e,l,t)=>{if("/login"===e.path||"/register"===e.path)return void t();if("/facilitylogin"===e.path||"/facilitysignup"===e.path)return void t();let o=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null;console.log(o),o?(console.log("pass"),t()):t("/facilitylogin")}));var Ed=Zd,Md=t(3907),Bd=(0,Md.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}}),jd=t(7136);t(4415);(0,o.ri)(T).use(Bd).use(Ed).use(jd.Z).mount("#app")}},l={};function t(o){var a=l[o];if(void 0!==a)return a.exports;var s=l[o]={exports:{}};return e[o].call(s.exports,s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(l,o,a,s){if(!o){var i=1/0;for(m=0;m<e.length;m++){o=e[m][0],a=e[m][1],s=e[m][2];for(var r=!0,n=0;n<o.length;n++)(!1&s||i>=s)&&Object.keys(t.O).every((function(e){return t.O[e](o[n])}))?o.splice(n--,1):(r=!1,s<i&&(i=s));if(r){e.splice(m--,1);var d=a();void 0!==d&&(l=d)}}return l}s=s||0;for(var m=e.length;m>0&&e[m-1][2]>s;m--)e[m]=e[m-1];e[m]=[o,a,s]}}(),function(){t.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(l,{a:l}),l}}(),function(){t.d=function(e,l){for(var o in l)t.o(l,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:l[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){t.p="/"}(),function(){var e={143:0};t.O.j=function(l){return 0===e[l]};var l=function(l,o){var a,s,i=o[0],r=o[1],n=o[2],d=0;if(i.some((function(l){return 0!==e[l]}))){for(a in r)t.o(r,a)&&(t.m[a]=r[a]);if(n)var m=n(t)}for(l&&l(o);d<i.length;d++)s=i[d],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(m)},o=self["webpackChunkwisdom_connect_project"]=self["webpackChunkwisdom_connect_project"]||[];o.forEach(l.bind(null,0)),o.push=l.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(7434)}));o=t.O(o)})();
//# sourceMappingURL=app.f585ea1b.js.map